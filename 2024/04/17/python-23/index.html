<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"hot5656.github.io","root":"/","images":"/images","scheme":"Gemini","version":"8.2.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜尋...","empty":"我們無法找到任何有關 ${query} 的搜索結果","hits_time":"${hits} 找到 ${time} 個結果","hits":"找到 ${hits} 個結果"},"path":"/search.json","localsearch":{"enable":"enable","trigger":"auto","top_n_per_article":-1,"unescape":false,"preload":false}};
  </script>
<meta name="description" content="Series,DataFrame CreateSeries create - pandas 一維陣列">
<meta property="og:type" content="article">
<meta property="og:title" content="python Pandas">
<meta property="og:url" content="https://hot5656.github.io/2024/04/17/python-23/index.html">
<meta property="og:site_name" content="Robert 雜記">
<meta property="og:description" content="Series,DataFrame CreateSeries create - pandas 一維陣列">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2024-04-17T03:36:16.000Z">
<meta property="article:modified_time" content="2024-10-08T02:50:52.759Z">
<meta property="article:author" content="Robert Kao">
<meta property="article:tag" content="python">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://hot5656.github.io/2024/04/17/python-23/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-TW'
  };
</script>
<title>python Pandas | Robert 雜記</title>
  




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Robert 雜記</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>標籤</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分類</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>歸檔列表</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜尋..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Series-DataFrame-Create"><span class="nav-number">1.</span> <span class="nav-text">Series,DataFrame Create</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Series-create-pandas-%E4%B8%80%E7%B6%AD%E9%99%A3%E5%88%97"><span class="nav-number">1.1.</span> <span class="nav-text">Series create - pandas 一維陣列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DataFrame-create-pandas-%E4%BA%8C%E7%B6%AD%E9%99%A3%E5%88%97"><span class="nav-number">1.2.</span> <span class="nav-text">DataFrame create - pandas 二維陣列</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DataFrame"><span class="nav-number">2.</span> <span class="nav-text">DataFrame</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DataFrame-%E5%8F%96%E5%80%BC"><span class="nav-number">2.1.</span> <span class="nav-text">DataFrame 取值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DataFrame-%E6%93%8D%E4%BD%9C"><span class="nav-number">2.2.</span> <span class="nav-text">DataFrame 操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B8%E5%80%BC%E8%99%95%E7%90%86-NaN-%E7%A9%BA%E5%80%BC"><span class="nav-number">2.3.</span> <span class="nav-text">數值處理 - NaN 空值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B8%E5%80%BC%E8%99%95%E7%90%86-%E8%AA%BF%E6%95%B4"><span class="nav-number">2.4.</span> <span class="nav-text">數值處理 - 調整</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B3%87%E6%96%99%E7%AF%A9%E9%81%B8-%E5%88%86%E7%B5%84%E9%81%8B%E7%AE%97"><span class="nav-number">2.5.</span> <span class="nav-text">資料篩選,分組運算</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DataFrame-data-access"><span class="nav-number">3.</span> <span class="nav-text">DataFrame data access</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#read-data"><span class="nav-number">3.1.</span> <span class="nav-text">read data</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#write-data"><span class="nav-number">3.2.</span> <span class="nav-text">write data</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#some-special"><span class="nav-number">4.</span> <span class="nav-text">some special</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#show-DataFrame-%E5%B0%8D%E9%BD%8A"><span class="nav-number">4.1.</span> <span class="nav-text">show DataFrame 對齊</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#option-%E8%A8%AD%E5%AE%9A"><span class="nav-number">4.2.</span> <span class="nav-text">option 設定</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AA%A2%E6%9F%A5%E8%B3%87%E6%96%99%E7%BC%BA%E5%A4%B1"><span class="nav-number">4.3.</span> <span class="nav-text">檢查資料缺失</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%BA%E5%A4%B1%E5%80%BC%E8%99%95%E7%90%86"><span class="nav-number">4.4.</span> <span class="nav-text">缺失值處理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%87%E6%9F%90%E5%80%8B%E6%AC%84%E4%BD%8D%E8%A8%AD%E7%82%BA%E8%B3%87%E6%96%99%E8%A1%A8%E7%9A%84%E7%B4%A2%E5%BC%95"><span class="nav-number">4.5.</span> <span class="nav-text">將某個欄位設為資料表的索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#show-%E5%87%BA%E7%9B%B8%E4%BA%92%E7%9A%AE%E7%88%BE%E9%81%9C%E7%9B%B8%E9%97%9C%E4%BF%82%E6%95%B8"><span class="nav-number">4.6.</span> <span class="nav-text">show 出相互皮爾遜相關係數</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%87%E5%85%A9%E5%80%8B%E4%B8%80%E7%B6%AD%E9%99%A3%E5%88%97%E7%B5%84%E6%88%90%E4%BA%8C%E7%B6%AD%E9%99%A3%E5%88%97"><span class="nav-number">4.7.</span> <span class="nav-text">將兩個一維陣列組成二維陣列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Series-%E8%BD%89%E6%88%90-array"><span class="nav-number">4.8.</span> <span class="nav-text">Series 轉成 array</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BC%B8%E5%87%BA%E6%95%B8%E6%93%9A%E7%B5%B1%E8%A8%88%E8%B3%87%E8%A8%8A"><span class="nav-number">4.9.</span> <span class="nav-text">輸出數據統計資訊</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BC%B8%E5%87%BA%E6%95%B8%E6%93%9A%E5%9F%BA%E6%9C%AC%E6%AC%84%E4%BD%8D%E8%B3%87%E6%96%99"><span class="nav-number">4.10.</span> <span class="nav-text">輸出數據基本欄位資料</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%A4%E5%8F%89%E5%88%86%E6%9E%90"><span class="nav-number">4.11.</span> <span class="nav-text">交叉分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%97%E5%87%BA%E5%8E%9F%E7%AC%A6%E8%99%9F%E5%92%8C%E5%B0%8D%E6%87%89%E7%9A%84%E6%95%B8%E5%80%BC"><span class="nav-number">4.12.</span> <span class="nav-text">列出原符號和對應的數值</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#function"><span class="nav-number">5.</span> <span class="nav-text">function</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#get-dummies-%E5%B0%87%E9%A1%9E%E5%88%A5%E8%AE%8A%E6%95%B8%E8%BD%89%E7%82%BA-one-hot-%E7%B7%A8%E7%A2%BC"><span class="nav-number">5.1.</span> <span class="nav-text">get_dummies() 將類別變數轉為 one-hot 編碼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rename-%E7%94%A8%E6%96%BC%E9%87%8D%E5%91%BD%E5%90%8D-DataFrame-%E6%88%96-Series-%E4%B8%AD%E7%9A%84%E6%A8%99%E7%B1%A4"><span class="nav-number">5.2.</span> <span class="nav-text">rename() 用於重命名 DataFrame 或 Series 中的標籤</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#map-%E8%BD%89%E6%8F%9B%E8%B3%87%E6%96%99%E7%82%BA%E6%95%B8%E5%80%BC%E8%B3%87%E6%96%99"><span class="nav-number">5.3.</span> <span class="nav-text">map() 轉換資料為數值資料</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E4%BD%8D%E6%95%B8"><span class="nav-number">5.4.</span> <span class="nav-text">中位數</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9C%BE%E6%95%B8"><span class="nav-number">5.5.</span> <span class="nav-text">眾數</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#check-column-type"><span class="nav-number">5.6.</span> <span class="nav-text">check column type</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%AA%E9%99%A4%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="nav-number">5.7.</span> <span class="nav-text">刪除缺失值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BD%89%E6%8F%9B%E6%97%A5%E6%9C%9F"><span class="nav-number">5.8.</span> <span class="nav-text">轉換日期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9B%B4%E6%94%B9-column-name"><span class="nav-number">5.9.</span> <span class="nav-text">更改 column name</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%88%E4%BD%B5-DataFrame"><span class="nav-number">5.10.</span> <span class="nav-text">合併 DataFrame</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Type-%E8%BD%89%E7%82%BA%E6%95%B8%E5%AD%97"><span class="nav-number">5.11.</span> <span class="nav-text">Type 轉為數字</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B8%E6%93%9A%E8%BD%89%E6%8F%9B%E7%82%BA%E6%97%A5%E6%9C%9F%E6%99%82%E9%96%93%E6%A0%BC%E5%BC%8F"><span class="nav-number">5.12.</span> <span class="nav-text">數據轉換為日期時間格式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B3%87%E6%96%99-2D-%E8%BD%89-1D"><span class="nav-number">5.13.</span> <span class="nav-text">資料 2D 轉 1D</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%96%E5%87%BA-columns%E2%80%99-name"><span class="nav-number">5.14.</span> <span class="nav-text">取出 columns’ name</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#concat-%E5%90%88%E4%BD%B5%E6%95%B8%E6%93%9A"><span class="nav-number">5.15.</span> <span class="nav-text">concat() - 合併數據</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B9%AA%E5%9C%96"><span class="nav-number">6.</span> <span class="nav-text">繪圖</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%95%B7%E6%A2%9D%E5%9C%96"><span class="nav-number">6.1.</span> <span class="nav-text">長條圖</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8A%98%E7%B7%9A%E5%9C%96"><span class="nav-number">6.2.</span> <span class="nav-text">折線圖</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%93%E9%A4%85%E5%9C%96"><span class="nav-number">6.3.</span> <span class="nav-text">圓餅圖</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Robert Kao"
      src="/images/head.png">
  <p class="site-author-name" itemprop="name">Robert Kao</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">170</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">66</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
        <div class="back-to-top animated" role="button">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://hot5656.github.io/2024/04/17/python-23/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.png">
      <meta itemprop="name" content="Robert Kao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Robert 雜記">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          python Pandas
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2024-04-17 11:36:16" itemprop="dateCreated datePublished" datetime="2024-04-17T11:36:16+08:00">2024-04-17</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新於</span>
        <time title="修改時間：2024-10-08 10:50:52" itemprop="dateModified" datetime="2024-10-08T10:50:52+08:00">2024-10-08</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Coding/" itemprop="url" rel="index"><span itemprop="name">Coding</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2024/04/17/python-23/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2024/04/17/python-23/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>24k</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>22 分鐘</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h3 id="Series-DataFrame-Create"><a href="#Series-DataFrame-Create" class="headerlink" title="Series,DataFrame Create"></a>Series,DataFrame Create</h3><h4 id="Series-create-pandas-一維陣列"><a href="#Series-create-pandas-一維陣列" class="headerlink" title="Series create - pandas 一維陣列"></a>Series create - pandas 一維陣列</h4><span id="more"></span>

<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Series create - pandas 一維陣列</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># Series create</span></span><br><span class="line">se = pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(se))</span><br><span class="line"><span class="built_in">print</span>(se)</span><br><span class="line"><span class="built_in">print</span>(se.values)</span><br><span class="line"><span class="built_in">print</span>(se.index)</span><br><span class="line"><span class="comment"># &lt;class &#x27;pandas.core.series.Series&#x27;&gt;</span></span><br><span class="line"><span class="comment"># 0    1</span></span><br><span class="line"><span class="comment"># 1    2</span></span><br><span class="line"><span class="comment"># 2    3</span></span><br><span class="line"><span class="comment"># 3    4</span></span><br><span class="line"><span class="comment"># dtype: int64</span></span><br><span class="line"><span class="comment"># [1 2 3 4]</span></span><br><span class="line"><span class="comment"># RangeIndex(start=0, stop=4, step=1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 自訂索引</span></span><br><span class="line">stocks = [<span class="string">&#x27;p1&#x27;</span>, <span class="string">&#x27;p2&#x27;</span>, <span class="string">&#x27;p3&#x27;</span>, <span class="string">&#x27;p4&#x27;</span>]</span><br><span class="line">prices  = [<span class="number">42</span>, <span class="number">510</span>, <span class="number">694</span>, <span class="number">2115</span>]</span><br><span class="line"><span class="comment"># index 索引</span></span><br><span class="line">se2 = pd.Series(prices, index=stocks)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(se2)</span><br><span class="line"><span class="comment"># p1      42</span></span><br><span class="line"><span class="comment"># p2     510</span></span><br><span class="line"><span class="comment"># p3     694</span></span><br><span class="line"><span class="comment"># p4    2115</span></span><br><span class="line"><span class="comment"># dtype: int64</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># create Series by dict</span></span><br><span class="line">dict1 = &#123;<span class="string">&#x27;Taipei&#x27;</span>: <span class="string">&#x27;台北&#x27;</span>, <span class="string">&#x27;Taichung&#x27;</span>: <span class="string">&#x27;台中&#x27;</span>, <span class="string">&#x27;Kaohsiung&#x27;</span>: <span class="string">&#x27;高雄&#x27;</span>, &#125;</span><br><span class="line">se3 = pd.Series(dict1)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(se3)</span><br><span class="line"><span class="built_in">print</span>(se3.values)</span><br><span class="line"><span class="built_in">print</span>(se3.index)</span><br><span class="line"><span class="comment"># Taipei       台北</span></span><br><span class="line"><span class="comment"># Taichung     台中</span></span><br><span class="line"><span class="comment"># Kaohsiung    高雄</span></span><br><span class="line"><span class="comment"># dtype: object</span></span><br><span class="line"><span class="comment"># [&#x27;台北&#x27; &#x27;台中&#x27; &#x27;高雄&#x27;]</span></span><br><span class="line"><span class="comment"># Index([&#x27;Taipei&#x27;, &#x27;Taichung&#x27;, &#x27;Kaohsiung&#x27;], dtype=&#x27;object&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># get value</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(se[<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(se3[<span class="string">&#x27;Kaohsiung&#x27;</span>])</span><br><span class="line"><span class="comment"># 3</span></span><br><span class="line"><span class="comment"># 高雄</span></span><br></pre></td></tr></table></figure>

<h4 id="DataFrame-create-pandas-二維陣列"><a href="#DataFrame-create-pandas-二維陣列" class="headerlink" title="DataFrame create - pandas 二維陣列"></a>DataFrame create - pandas 二維陣列</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># DataFrame create - pandas 二維陣列</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment"># create DataFrame</span></span><br><span class="line">df = pd.DataFrame([[<span class="number">65</span>,<span class="number">92</span>,<span class="number">78</span>,<span class="number">83</span>,<span class="number">70</span>],</span><br><span class="line">                   [<span class="number">90</span>,<span class="number">72</span>,<span class="number">76</span>,<span class="number">93</span>,<span class="number">56</span>],</span><br><span class="line">                   [<span class="number">81</span>,<span class="number">85</span>,<span class="number">91</span>,<span class="number">89</span>,<span class="number">77</span>],</span><br><span class="line">                   [<span class="number">79</span>,<span class="number">53</span>,<span class="number">47</span>,<span class="number">94</span>,<span class="number">80</span>]])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;df1&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(df))</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="comment"># &lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span></span><br><span class="line"><span class="comment">#     0   1   2   3   4</span></span><br><span class="line"><span class="comment"># 0  65  92  78  83  70</span></span><br><span class="line"><span class="comment"># 1  90  72  76  93  56</span></span><br><span class="line"><span class="comment"># 2  81  85  91  89  77</span></span><br><span class="line"><span class="comment"># 3  79  53  47  94  80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 自訂索引,行</span></span><br><span class="line">df2 = pd.DataFrame([[<span class="number">65</span>,<span class="number">92</span>,<span class="number">78</span>,<span class="number">83</span>,<span class="number">70</span>],</span><br><span class="line">                   [<span class="number">90</span>,<span class="number">72</span>,<span class="number">76</span>,<span class="number">93</span>,<span class="number">56</span>],</span><br><span class="line">                   [<span class="number">81</span>,<span class="number">85</span>,<span class="number">91</span>,<span class="number">89</span>,<span class="number">77</span>],</span><br><span class="line">                   [<span class="number">79</span>,<span class="number">53</span>,<span class="number">47</span>,<span class="number">94</span>,<span class="number">80</span>]],</span><br><span class="line">                  index=[<span class="string">&#x27;大明&#x27;</span>,<span class="string">&#x27;小王&#x27;</span>,<span class="string">&#x27;張山&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>],</span><br><span class="line">                  columns=[<span class="string">&#x27;英文&#x27;</span>,<span class="string">&#x27;國文&#x27;</span>,<span class="string">&#x27;數學&#x27;</span>,<span class="string">&#x27;社會&#x27;</span>,<span class="string">&#x27;生活&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;df2&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df2)</span><br><span class="line"><span class="comment">#     英文  國文  數學  社會  生活</span></span><br><span class="line"><span class="comment"># 大明  65  92  78  83  70</span></span><br><span class="line"><span class="comment"># 小王  90  72  76  93  56</span></span><br><span class="line"><span class="comment"># 張山  81  85  91  89  77</span></span><br><span class="line"><span class="comment"># 李四  79  53  47  94  80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># create DataFrame by dict</span></span><br><span class="line">scores = &#123;</span><br><span class="line"> <span class="string">&#x27;英文&#x27;</span>:&#123;<span class="string">&#x27;大明&#x27;</span>:<span class="number">65</span>, <span class="string">&#x27;小王&#x27;</span>:<span class="number">90</span>, <span class="string">&#x27;張山&#x27;</span>:<span class="number">81</span>, <span class="string">&#x27;李四&#x27;</span>:<span class="number">79</span>&#125;,</span><br><span class="line"> <span class="string">&#x27;國文&#x27;</span>:&#123;<span class="string">&#x27;大明&#x27;</span>:<span class="number">92</span>, <span class="string">&#x27;小王&#x27;</span>:<span class="number">72</span>, <span class="string">&#x27;張山&#x27;</span>:<span class="number">85</span>, <span class="string">&#x27;李四&#x27;</span>:<span class="number">53</span>&#125;,</span><br><span class="line"> <span class="string">&#x27;數學&#x27;</span>:&#123;<span class="string">&#x27;大明&#x27;</span>:<span class="number">25</span>, <span class="string">&#x27;小王&#x27;</span>:<span class="number">92</span>, <span class="string">&#x27;張山&#x27;</span>:<span class="number">21</span>, <span class="string">&#x27;李四&#x27;</span>:<span class="number">72</span>&#125;,</span><br><span class="line"> <span class="string">&#x27;社會&#x27;</span>:&#123;<span class="string">&#x27;大明&#x27;</span>:<span class="number">35</span>, <span class="string">&#x27;小王&#x27;</span>:<span class="number">93</span>, <span class="string">&#x27;張山&#x27;</span>:<span class="number">31</span>, <span class="string">&#x27;李四&#x27;</span>:<span class="number">73</span>&#125;,</span><br><span class="line"> <span class="string">&#x27;生活&#x27;</span>:&#123;<span class="string">&#x27;大明&#x27;</span>:<span class="number">45</span>, <span class="string">&#x27;小王&#x27;</span>:<span class="number">94</span>, <span class="string">&#x27;張山&#x27;</span>:<span class="number">41</span>, <span class="string">&#x27;李四&#x27;</span>:<span class="number">74</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line">df3 = pd.DataFrame(scores)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;df3&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df3)</span><br><span class="line"><span class="comment">#     英文  國文  數學  社會  生活</span></span><br><span class="line"><span class="comment"># 大明  65  92  25  35  45</span></span><br><span class="line"><span class="comment"># 小王  90  72  92  93  94</span></span><br><span class="line"><span class="comment"># 張山  81  85  21  31  41</span></span><br><span class="line"><span class="comment"># 李四  79  53  72  73  74</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># create DataFrame by Series(dict)</span></span><br><span class="line">se1 = pd.Series(&#123;<span class="string">&#x27;大明&#x27;</span>:<span class="number">65</span>, <span class="string">&#x27;小王&#x27;</span>:<span class="number">90</span>, <span class="string">&#x27;張山&#x27;</span>:<span class="number">81</span>, <span class="string">&#x27;李四&#x27;</span>:<span class="number">79</span>&#125;)</span><br><span class="line">se2 = pd.Series(&#123;<span class="string">&#x27;大明&#x27;</span>:<span class="number">92</span>, <span class="string">&#x27;小王&#x27;</span>:<span class="number">72</span>, <span class="string">&#x27;張山&#x27;</span>:<span class="number">85</span>, <span class="string">&#x27;李四&#x27;</span>:<span class="number">53</span>&#125;)</span><br><span class="line">se3 = pd.Series(&#123;<span class="string">&#x27;大明&#x27;</span>:<span class="number">25</span>, <span class="string">&#x27;小王&#x27;</span>:<span class="number">92</span>, <span class="string">&#x27;張山&#x27;</span>:<span class="number">21</span>, <span class="string">&#x27;李四&#x27;</span>:<span class="number">72</span>&#125;)</span><br><span class="line">se4 = pd.Series(&#123;<span class="string">&#x27;大明&#x27;</span>:<span class="number">35</span>, <span class="string">&#x27;小王&#x27;</span>:<span class="number">93</span>, <span class="string">&#x27;張山&#x27;</span>:<span class="number">31</span>, <span class="string">&#x27;李四&#x27;</span>:<span class="number">73</span>&#125;)</span><br><span class="line">se5 = pd.Series(&#123;<span class="string">&#x27;大明&#x27;</span>:<span class="number">45</span>, <span class="string">&#x27;小王&#x27;</span>:<span class="number">94</span>, <span class="string">&#x27;張山&#x27;</span>:<span class="number">41</span>, <span class="string">&#x27;李四&#x27;</span>:<span class="number">74</span>&#125;)</span><br><span class="line">df4 = pd.DataFrame(&#123;</span><br><span class="line">        <span class="string">&#x27;英文&#x27;</span>:se1,</span><br><span class="line">        <span class="string">&#x27;國文&#x27;</span>:se2,</span><br><span class="line">        <span class="string">&#x27;數學&#x27;</span>:se3,</span><br><span class="line">        <span class="string">&#x27;社會&#x27;</span>:se4,</span><br><span class="line">        <span class="string">&#x27;生活&#x27;</span>:se5&#125;)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;df4&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df4)</span><br><span class="line"><span class="comment">#     英文  國文  數學  社會  生活</span></span><br><span class="line"><span class="comment"># 大明  65  92  25  35  45</span></span><br><span class="line"><span class="comment"># 小王  90  72  92  93  94</span></span><br><span class="line"><span class="comment"># 張山  81  85  21  31  41</span></span><br><span class="line"><span class="comment"># 李四  79  53  72  73  74</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># create DataFrame by Series(concat)</span></span><br><span class="line">se1 = pd.Series(&#123;<span class="string">&#x27;大明&#x27;</span>:<span class="number">65</span>, <span class="string">&#x27;小王&#x27;</span>:<span class="number">90</span>, <span class="string">&#x27;張山&#x27;</span>:<span class="number">81</span>, <span class="string">&#x27;李四&#x27;</span>:<span class="number">79</span>&#125;)</span><br><span class="line">se2 = pd.Series(&#123;<span class="string">&#x27;大明&#x27;</span>:<span class="number">92</span>, <span class="string">&#x27;小王&#x27;</span>:<span class="number">72</span>, <span class="string">&#x27;張山&#x27;</span>:<span class="number">85</span>, <span class="string">&#x27;李四&#x27;</span>:<span class="number">53</span>&#125;)</span><br><span class="line">se3 = pd.Series(&#123;<span class="string">&#x27;大明&#x27;</span>:<span class="number">25</span>, <span class="string">&#x27;小王&#x27;</span>:<span class="number">92</span>, <span class="string">&#x27;張山&#x27;</span>:<span class="number">21</span>, <span class="string">&#x27;李四&#x27;</span>:<span class="number">72</span>&#125;)</span><br><span class="line">se4 = pd.Series(&#123;<span class="string">&#x27;大明&#x27;</span>:<span class="number">35</span>, <span class="string">&#x27;小王&#x27;</span>:<span class="number">93</span>, <span class="string">&#x27;張山&#x27;</span>:<span class="number">31</span>, <span class="string">&#x27;李四&#x27;</span>:<span class="number">73</span>&#125;)</span><br><span class="line">se5 = pd.Series(&#123;<span class="string">&#x27;大明&#x27;</span>:<span class="number">45</span>, <span class="string">&#x27;小王&#x27;</span>:<span class="number">94</span>, <span class="string">&#x27;張山&#x27;</span>:<span class="number">41</span>, <span class="string">&#x27;李四&#x27;</span>:<span class="number">74</span>&#125;)</span><br><span class="line">df5 = pd.concat([se1,se2,se3,se4,se5], axis=<span class="number">1</span>)</span><br><span class="line">df5.columns = [<span class="string">&#x27;英文&#x27;</span>,<span class="string">&#x27;國文&#x27;</span>,<span class="string">&#x27;數學&#x27;</span>,<span class="string">&#x27;社會&#x27;</span>,<span class="string">&#x27;生活&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;df5&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df5)</span><br><span class="line"><span class="comment">#     英文  國文  數學  社會  生活</span></span><br><span class="line"><span class="comment"># 大明  65  92  25  35  45</span></span><br><span class="line"><span class="comment"># 小王  90  72  92  93  94</span></span><br><span class="line"><span class="comment"># 張山  81  85  21  31  41</span></span><br><span class="line"><span class="comment"># 李四  79  53  72  73  74</span></span><br></pre></td></tr></table></figure>

<h3 id="DataFrame"><a href="#DataFrame" class="headerlink" title="DataFrame"></a>DataFrame</h3><h4 id="DataFrame-取值"><a href="#DataFrame-取值" class="headerlink" title="DataFrame 取值"></a>DataFrame 取值</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># DataFrame 取值</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame([[<span class="number">65</span>,<span class="number">92</span>,<span class="number">78</span>,<span class="number">83</span>,<span class="number">70</span>],</span><br><span class="line">                   [<span class="number">90</span>,<span class="number">72</span>,<span class="number">76</span>,<span class="number">93</span>,<span class="number">56</span>],</span><br><span class="line">                   [<span class="number">81</span>,<span class="number">85</span>,<span class="number">91</span>,<span class="number">89</span>,<span class="number">77</span>],</span><br><span class="line">                   [<span class="number">79</span>,<span class="number">53</span>,<span class="number">47</span>,<span class="number">94</span>,<span class="number">80</span>]],</span><br><span class="line">                  index=[<span class="string">&#x27;大明&#x27;</span>,<span class="string">&#x27;小王&#x27;</span>,<span class="string">&#x27;張山&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>],</span><br><span class="line">                  columns=[<span class="string">&#x27;英文&#x27;</span>,<span class="string">&#x27;國文&#x27;</span>,<span class="string">&#x27;數學&#x27;</span>,<span class="string">&#x27;社會&#x27;</span>,<span class="string">&#x27;生活&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="comment">#     英文  國文  數學  社會  生活</span></span><br><span class="line"><span class="comment"># 大明  65  92  78  83  70</span></span><br><span class="line"><span class="comment"># 小王  90  72  76  93  56</span></span><br><span class="line"><span class="comment"># 張山  81  85  91  89  77</span></span><br><span class="line"><span class="comment"># 李四  79  53  47  94  80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 基本取值 column</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--basic--&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[<span class="string">&#x27;數學&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(df[[<span class="string">&#x27;英文&#x27;</span>,<span class="string">&#x27;數學&#x27;</span>]])</span><br><span class="line"><span class="comment"># 基本取值 條件</span></span><br><span class="line"><span class="built_in">print</span>(df[df[<span class="string">&#x27;國文&#x27;</span>] &gt; <span class="number">80</span>])</span><br><span class="line"><span class="comment"># 基本取值 以 values 取值</span></span><br><span class="line"><span class="built_in">print</span>(df.values)</span><br><span class="line"><span class="built_in">print</span>(df.values[<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(df.values[<span class="number">1</span>][<span class="number">2</span>])</span><br><span class="line"><span class="comment"># 大明    78</span></span><br><span class="line"><span class="comment"># 小王    76</span></span><br><span class="line"><span class="comment"># 張山    91</span></span><br><span class="line"><span class="comment"># 李四    47</span></span><br><span class="line"><span class="comment"># Name: 數學, dtype: int64</span></span><br><span class="line"><span class="comment">#     英文  數學</span></span><br><span class="line"><span class="comment"># 大明  65  78</span></span><br><span class="line"><span class="comment"># 小王  90  76</span></span><br><span class="line"><span class="comment"># 張山  81  91</span></span><br><span class="line"><span class="comment"># 李四  79  47</span></span><br><span class="line"><span class="comment">#     英文  國文  數學  社會  生活</span></span><br><span class="line"><span class="comment"># 大明  65  92  78  83  70</span></span><br><span class="line"><span class="comment"># 張山  81  85  91  89  77</span></span><br><span class="line"><span class="comment"># [[65 92 78 83 70]</span></span><br><span class="line"><span class="comment">#  [90 72 76 93 56]</span></span><br><span class="line"><span class="comment">#  [81 85 91 89 77]</span></span><br><span class="line"><span class="comment">#  [79 53 47 94 80]]</span></span><br><span class="line"><span class="comment"># [90 72 76 93 56]</span></span><br><span class="line"><span class="comment"># 76</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># index+column 取值 .loc</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--.loc--&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.loc[<span class="string">&#x27;小王&#x27;</span>,<span class="string">&#x27;數學&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(df.loc[<span class="string">&#x27;小王&#x27;</span>,[<span class="string">&#x27;英文&#x27;</span>,<span class="string">&#x27;數學&#x27;</span>]])</span><br><span class="line"><span class="built_in">print</span>(df.loc[[<span class="string">&#x27;小王&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>],[<span class="string">&#x27;英文&#x27;</span>,<span class="string">&#x27;數學&#x27;</span>]])</span><br><span class="line"><span class="built_in">print</span>(df.loc[<span class="string">&#x27;小王&#x27;</span>:<span class="string">&#x27;李四&#x27;</span>,<span class="string">&#x27;英文&#x27;</span>:<span class="string">&#x27;數學&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(df.loc[<span class="string">&#x27;小王&#x27;</span>,:])</span><br><span class="line"><span class="built_in">print</span>(df.loc[<span class="string">&#x27;張山&#x27;</span>:,:])</span><br><span class="line"><span class="comment"># 76</span></span><br><span class="line"><span class="comment"># 英文    90</span></span><br><span class="line"><span class="comment"># 數學    76</span></span><br><span class="line"><span class="comment"># Name: 小王, dtype: int64</span></span><br><span class="line"><span class="comment">#     英文  數學</span></span><br><span class="line"><span class="comment"># 小王  90  76</span></span><br><span class="line"><span class="comment"># 李四  79  47</span></span><br><span class="line"><span class="comment">#     英文  國文  數學</span></span><br><span class="line"><span class="comment"># 小王  90  72  76</span></span><br><span class="line"><span class="comment"># 張山  81  85  91</span></span><br><span class="line"><span class="comment"># 李四  79  53  47</span></span><br><span class="line"><span class="comment"># 英文    90</span></span><br><span class="line"><span class="comment"># 國文    72</span></span><br><span class="line"><span class="comment"># 數學    76</span></span><br><span class="line"><span class="comment"># 社會    93</span></span><br><span class="line"><span class="comment"># 生活    56</span></span><br><span class="line"><span class="comment"># Name: 小王, dtype: int64</span></span><br><span class="line"><span class="comment">#     英文  國文  數學  社會  生活</span></span><br><span class="line"><span class="comment"># 張山  81  85  91  89  77</span></span><br><span class="line"><span class="comment"># 李四  79  53  47  94  80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># index number+column number 取值 .iloc</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--.iloc--&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.iloc[<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"><span class="built_in">print</span>(df.iloc[<span class="number">0</span>,[<span class="number">0</span>,<span class="number">4</span>]])</span><br><span class="line"><span class="built_in">print</span>(df.iloc[[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">2</span>,<span class="number">3</span>]])</span><br><span class="line"><span class="built_in">print</span>(df.iloc[<span class="number">0</span>:<span class="number">3</span>,<span class="number">2</span>:<span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span>(df.iloc[<span class="number">2</span>,:])</span><br><span class="line"><span class="built_in">print</span>(df.iloc[:<span class="number">2</span>,<span class="number">2</span>:<span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span>(df.iloc[<span class="number">1</span>:,<span class="number">2</span>:<span class="number">5</span>])</span><br><span class="line"><span class="comment"># 80</span></span><br><span class="line"><span class="comment"># 英文    65</span></span><br><span class="line"><span class="comment"># 生活    70</span></span><br><span class="line"><span class="comment"># Name: 大明, dtype: int64</span></span><br><span class="line"><span class="comment">#     數學  社會</span></span><br><span class="line"><span class="comment"># 大明  78  83</span></span><br><span class="line"><span class="comment"># 小王  76  93</span></span><br><span class="line"><span class="comment">#     數學  社會  生活</span></span><br><span class="line"><span class="comment"># 大明  78  83  70</span></span><br><span class="line"><span class="comment"># 小王  76  93  56</span></span><br><span class="line"><span class="comment"># 張山  91  89  77</span></span><br><span class="line"><span class="comment"># 英文    81</span></span><br><span class="line"><span class="comment"># 國文    85</span></span><br><span class="line"><span class="comment"># 數學    91</span></span><br><span class="line"><span class="comment"># 社會    89</span></span><br><span class="line"><span class="comment"># 生活    77</span></span><br><span class="line"><span class="comment"># Name: 張山, dtype: int64</span></span><br><span class="line"><span class="comment">#     數學  社會  生活</span></span><br><span class="line"><span class="comment"># 大明  78  83  70</span></span><br><span class="line"><span class="comment"># 小王  76  93  56</span></span><br><span class="line"><span class="comment">#     數學  社會  生活</span></span><br><span class="line"><span class="comment"># 小王  76  93  56</span></span><br><span class="line"><span class="comment"># 張山  91  89  77</span></span><br><span class="line"><span class="comment"># 李四  47  94  80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 取 最前幾列/最後幾列</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--head/tail--&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.head(<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(df.tail(<span class="number">2</span>))</span><br><span class="line"><span class="comment">#     英文  國文  數學  社會  生活</span></span><br><span class="line"><span class="comment"># 大明  65  92  78  83  70</span></span><br><span class="line"><span class="comment"># 小王  90  72  76  93  56</span></span><br><span class="line"><span class="comment">#     英文  國文  數學  社會  生活</span></span><br><span class="line"><span class="comment"># 張山  81  85  91  89  77</span></span><br><span class="line"><span class="comment"># 李四  79  53  47  94  80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># DataFrmae 產生另一 DataFrmae</span></span><br><span class="line"><span class="comment"># 建立 DataFrmae</span></span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line"><span class="comment"># 建立自變數和目標變數</span></span><br><span class="line">X = df[[<span class="string">&#x27;height&#x27;</span>, <span class="string">&#x27;waist&#x27;</span>]]</span><br><span class="line">y = df[<span class="string">&#x27;weight&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 移除部分column</span></span><br><span class="line">features = data.drop([<span class="string">&quot;ID&quot;</span>, <span class="string">&quot;default.payment.next.month&quot;</span>], axis=<span class="number">1</span>)</span><br><span class="line">X = df.drop([<span class="string">&quot;Outcome&quot;</span>], axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h4 id="DataFrame-操作"><a href="#DataFrame-操作" class="headerlink" title="DataFrame 操作"></a>DataFrame 操作</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># DataFrame 操作</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame([[<span class="number">65</span>,<span class="number">92</span>,<span class="number">78</span>,<span class="number">83</span>,<span class="number">70</span>],</span><br><span class="line">                   [<span class="number">90</span>,<span class="number">72</span>,<span class="number">76</span>,<span class="number">93</span>,<span class="number">56</span>],</span><br><span class="line">                   [<span class="number">81</span>,<span class="number">85</span>,<span class="number">91</span>,<span class="number">89</span>,<span class="number">77</span>],</span><br><span class="line">                   [<span class="number">79</span>,<span class="number">53</span>,<span class="number">47</span>,<span class="number">94</span>,<span class="number">80</span>]],</span><br><span class="line">                  index=[<span class="string">&#x27;大明&#x27;</span>,<span class="string">&#x27;小王&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>,<span class="string">&#x27;張山&#x27;</span>],</span><br><span class="line">                  columns=[<span class="string">&#x27;英文&#x27;</span>,<span class="string">&#x27;國文&#x27;</span>,<span class="string">&#x27;數學&#x27;</span>,<span class="string">&#x27;社會&#x27;</span>,<span class="string">&#x27;生活&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="comment">#     英文  國文  數學  社會  生活</span></span><br><span class="line"><span class="comment"># 大明  65  92  78  83  70</span></span><br><span class="line"><span class="comment"># 小王  90  72  76  93  56</span></span><br><span class="line"><span class="comment"># 李四  81  85  91  89  77</span></span><br><span class="line"><span class="comment"># 張山  79  53  47  94  80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 排序</span></span><br><span class="line"><span class="comment"># 依値排序</span></span><br><span class="line"><span class="comment"># ascending True(default)遞增, False遞減</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--排序--&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.sort_values(by=<span class="string">&#x27;數學&#x27;</span>, ascending=<span class="literal">False</span>))</span><br><span class="line"><span class="built_in">print</span>(df.sort_values([<span class="string">&#x27;診斷年份&#x27;</span>,<span class="string">&#x27;診斷週別&#x27;</span>], ascending=[<span class="literal">True</span>, <span class="literal">False</span>]))</span><br><span class="line"><span class="comment"># inplace=True 表會直接更新 df</span></span><br><span class="line">df.sort_values([<span class="string">&#x27;診斷年份&#x27;</span>,<span class="string">&#x27;診斷週別&#x27;</span>], ascending=[<span class="literal">True</span>, <span class="literal">False</span>], inplace=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># 依索引排序</span></span><br><span class="line"><span class="comment"># axis 0:index 1:column</span></span><br><span class="line"><span class="built_in">print</span>(df.sort_index(axis=<span class="number">0</span>))</span><br><span class="line"><span class="comment">#     英文  國文  數學  社會  生活</span></span><br><span class="line"><span class="comment"># 李四  81  85  91  89  77</span></span><br><span class="line"><span class="comment"># 大明  65  92  78  83  70</span></span><br><span class="line"><span class="comment"># 小王  90  72  76  93  56</span></span><br><span class="line"><span class="comment"># 張山  79  53  47  94  80</span></span><br><span class="line"><span class="comment">#     英文  國文  數學  社會  生活</span></span><br><span class="line"><span class="comment"># 大明  65  92  78  83  70</span></span><br><span class="line"><span class="comment"># 小王  90  72  76  93  56</span></span><br><span class="line"><span class="comment"># 張山  79  53  47  94  80</span></span><br><span class="line"><span class="comment"># 李四  81  85  91  89  77</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 資料修改</span></span><br><span class="line"><span class="comment"># copy</span></span><br><span class="line">df_copy = df.copy()</span><br><span class="line">df.iloc[<span class="number">0</span>,<span class="number">0</span>] = <span class="number">99</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--修改--&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="comment">#     英文  國文  數學  社會  生活</span></span><br><span class="line"><span class="comment"># 大明  99  92  78  83  70</span></span><br><span class="line"><span class="comment"># 小王  90  72  76  93  56</span></span><br><span class="line"><span class="comment"># 李四  81  85  91  89  77</span></span><br><span class="line"><span class="comment"># 張山  79  53  47  94  80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 刪除</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--刪除--&#x27;</span>)</span><br><span class="line">df = df_copy</span><br><span class="line"><span class="comment"># 刪除列</span></span><br><span class="line"><span class="built_in">print</span>(df.drop(<span class="string">&#x27;李四&#x27;</span>))</span><br><span class="line"><span class="comment"># 刪除行</span></span><br><span class="line"><span class="built_in">print</span>(df.drop(<span class="string">&#x27;數學&#x27;</span>, axis=<span class="number">1</span>))</span><br><span class="line"><span class="comment"># 刪除連續列</span></span><br><span class="line"><span class="built_in">print</span>(df.drop(df.index[<span class="number">1</span>:<span class="number">4</span>]))</span><br><span class="line"><span class="comment"># 刪除連續行</span></span><br><span class="line"><span class="built_in">print</span>(df.drop(df.columns[<span class="number">1</span>:<span class="number">4</span>], axis=<span class="number">1</span>))</span><br><span class="line"><span class="comment">#     英文  國文  數學  社會  生活</span></span><br><span class="line"><span class="comment"># 大明  65  92  78  83  70</span></span><br><span class="line"><span class="comment"># 小王  90  72  76  93  56</span></span><br><span class="line"><span class="comment"># 張山  79  53  47  94  80</span></span><br><span class="line"><span class="comment">#     英文  國文  社會  生活</span></span><br><span class="line"><span class="comment"># 大明  65  92  83  70</span></span><br><span class="line"><span class="comment"># 小王  90  72  93  56</span></span><br><span class="line"><span class="comment"># 李四  81  85  89  77</span></span><br><span class="line"><span class="comment"># 張山  79  53  94  80</span></span><br><span class="line"><span class="comment">#     英文  國文  數學  社會  生活</span></span><br><span class="line"><span class="comment"># 大明  65  92  78  83  70</span></span><br><span class="line"><span class="comment">#     英文  生活</span></span><br><span class="line"><span class="comment"># 大明  65  70</span></span><br><span class="line"><span class="comment"># 小王  90  56</span></span><br><span class="line"><span class="comment"># 李四  81  77</span></span><br><span class="line"><span class="comment"># 張山  79  80</span></span><br></pre></td></tr></table></figure>

<h4 id="數值處理-NaN-空值"><a href="#數值處理-NaN-空值" class="headerlink" title="數值處理 - NaN 空值"></a>數值處理 - NaN 空值</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 數值處理 - NaN 空值</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># NaN 表 空值</span></span><br><span class="line"><span class="comment"># isnull() : check NaN</span></span><br><span class="line"><span class="comment"># fillna(value, method): NaN 填入指定值</span></span><br><span class="line"><span class="comment"># dropna(): NaN 刪除</span></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;customer.csv&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;column NaN 統計:&#x27;</span>, df.isnull().<span class="built_in">sum</span>())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;index 有 NaN 的筆數&#x27;</span>, df.isnull().<span class="built_in">any</span>(axis=<span class="number">1</span>).<span class="built_in">sum</span>())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;column 有 NaN 的筆數&#x27;</span>, df.isnull().<span class="built_in">any</span>(axis=<span class="number">0</span>).<span class="built_in">sum</span>())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;age NaN 的紀錄:&#x27;</span>,df[df[<span class="string">&#x27;age&#x27;</span>].isnull()])</span><br><span class="line"><span class="comment">#          id name  gender   age    area         job</span></span><br><span class="line"><span class="comment"># 0   1700001  李國發    Male  21.0  新北市三重區   金融業 和房地產</span></span><br><span class="line"><span class="comment"># 1   1700002  吳俊諺     NaN   NaN  臺北市文山區     金融業和房地產</span></span><br><span class="line"><span class="comment"># 2   1700003  蔡俊毅     NaN   NaN  臺北市文山區    教育體育  文化</span></span><br><span class="line"><span class="comment"># 3   1700004  姚鈺迪  Female  34.0  基隆市中正區    住宿 和 餐飲業</span></span><br><span class="line"><span class="comment"># 4   1700004  姚鈺迪  Female  34.0  基隆市中正區      住宿和餐飲業</span></span><br><span class="line"><span class="comment"># 5   1700005  袁劭彥    Male  42.0  臺北市文山區     金融業和房地產</span></span><br><span class="line"><span class="comment"># 6   1700006  蔡登意     NaN   NaN     NaN     金融業和房地產</span></span><br><span class="line"><span class="comment"># 7   1700007  吳景翔     NaN  39.0     NaN       農林牧漁業</span></span><br><span class="line"><span class="comment"># 8   1700008  邱孝信     NaN  39.0     NaN     金融業和房地產</span></span><br><span class="line"><span class="comment"># 9   1700009  陳明輝     NaN  57.0  基隆市中正區     金融業和房地產</span></span><br><span class="line"><span class="comment"># 10  1700010  彭郁翔     NaN  55.0  基隆市中正區      住宿和餐飲業</span></span><br><span class="line"><span class="comment"># 11  1700011  許合蓉  Female  61.0  新北市三重區      住宿和餐飲業</span></span><br><span class="line"><span class="comment"># 12  1700012  武家豪    Male  53.0  新北市三重區       農林牧漁業</span></span><br><span class="line"><span class="comment"># 13  1700013  郭信邦     NaN  48.0  新北市三重區      教育體育文化</span></span><br><span class="line"><span class="comment"># 14  1700014  周聿綠  Female  57.0  基隆市中正區     金融業和房地產</span></span><br><span class="line"><span class="comment"># column NaN 統計:</span></span><br><span class="line"><span class="comment"># id        0</span></span><br><span class="line"><span class="comment"># name      0</span></span><br><span class="line"><span class="comment"># gender    8</span></span><br><span class="line"><span class="comment"># age       3</span></span><br><span class="line"><span class="comment"># area      3</span></span><br><span class="line"><span class="comment"># job       0</span></span><br><span class="line"><span class="comment"># dtype: int64</span></span><br><span class="line"><span class="comment"># index 有 NaN 的筆數 8</span></span><br><span class="line"><span class="comment"># column 有 NaN 的筆數 3</span></span><br><span class="line"><span class="comment"># age NaN 的紀錄:         id name gender  age    area       job</span></span><br><span class="line"><span class="comment"># 1  1700002  吳俊諺    NaN  NaN  臺北市文山區   金融業和房地產</span></span><br><span class="line"><span class="comment"># 2  1700003  蔡俊毅    NaN  NaN  臺北市文山區  教育體育  文化</span></span><br><span class="line"><span class="comment"># 6  1700006  蔡登意    NaN  NaN     NaN   金融業和房地產</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># put NaN to 0</span></span><br><span class="line">df_sample = df.copy()</span><br><span class="line">df_sample[<span class="string">&#x27;age&#x27;</span>] = df_sample[<span class="string">&#x27;age&#x27;</span>].fillna(value=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-- fillna 0 --&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df_sample.head())</span><br><span class="line"><span class="comment">#         id name  gender   age    area         job</span></span><br><span class="line"><span class="comment"># 0  1700001  李國發    Male  21.0  新北市三重區   金融業 和房地產</span></span><br><span class="line"><span class="comment"># 1  1700002  吳俊諺     NaN   0.0  臺北市文山區     金融業和房地產</span></span><br><span class="line"><span class="comment"># 2  1700003  蔡俊毅     NaN   0.0  臺北市文山區    教育體育  文化</span></span><br><span class="line"><span class="comment"># 3  1700004  姚鈺迪  Female  34.0  基隆市中正區    住宿 和 餐飲業</span></span><br><span class="line"><span class="comment"># 4  1700004  姚鈺迪  Female  34.0  基隆市中正區      住宿和餐飲業</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 區失值填 0</span></span><br><span class="line">final_df.fillna(<span class="number">0</span>, inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># put NaN to value</span></span><br><span class="line">df_sample = df.copy()</span><br><span class="line">df_sample[<span class="string">&#x27;age&#x27;</span>] = df_sample[<span class="string">&#x27;age&#x27;</span>].fillna(value=df_sample[<span class="string">&#x27;age&#x27;</span>].mean())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-- fillna mean() --&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df_sample.head())</span><br><span class="line"><span class="comment">#         id name  gender   age    area         job</span></span><br><span class="line"><span class="comment"># 0  1700001  李國發    Male  21.0  新北市三重區   金融業 和房地產</span></span><br><span class="line"><span class="comment"># 1  1700002  吳俊諺     NaN  45.0  臺北市文山區     金融業和房地產</span></span><br><span class="line"><span class="comment"># 2  1700003  蔡俊毅     NaN  45.0  臺北市文山區    教育體育  文化</span></span><br><span class="line"><span class="comment"># 3  1700004  姚鈺迪  Female  34.0  基隆市中正區    住宿 和 餐飲業</span></span><br><span class="line"><span class="comment"># 4  1700004  姚鈺迪  Female  34.0  基隆市中正區      住宿和餐飲業</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># put NaN as forward/back</span></span><br><span class="line">df_sample = df.copy()</span><br><span class="line">df_sample[<span class="string">&#x27;age&#x27;</span>] = df_sample[<span class="string">&#x27;age&#x27;</span>].ffill()</span><br><span class="line">df_sample[<span class="string">&#x27;gender&#x27;</span>] = df_sample[<span class="string">&#x27;gender&#x27;</span>].bfill()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-- fillna forward-fill:fffill/back-fill:bfill --&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df_sample.head())</span><br><span class="line"><span class="built_in">print</span>(df_sample.head(<span class="number">10</span>))</span><br><span class="line"><span class="comment">#         id name  gender   age    area         job</span></span><br><span class="line"><span class="comment"># 0  1700001  李國發    Male  21.0  新北市三重區   金融業 和房地產</span></span><br><span class="line"><span class="comment"># 1  1700002  吳俊諺  Female  21.0  臺北市文山區     金融業和房地產</span></span><br><span class="line"><span class="comment"># 2  1700003  蔡俊毅  Female  21.0  臺北市文山區    教育體育  文化</span></span><br><span class="line"><span class="comment"># 3  1700004  姚鈺迪  Female  34.0  基隆市中正區    住宿 和 餐飲業</span></span><br><span class="line"><span class="comment"># 4  1700004  姚鈺迪  Female  34.0  基隆市中正區      住宿和餐飲業</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># delete NaN record</span></span><br><span class="line">df_sample = df.copy()</span><br><span class="line">df_sample = df_sample.dropna()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-- dropna --&#x27;</span> )</span><br><span class="line"><span class="built_in">print</span>(df_sample)</span><br><span class="line"><span class="comment">#          id name  gender   age    area         job</span></span><br><span class="line"><span class="comment"># 0   1700001  李國發    Male  21.0  新北市三重區   金融業 和房地產</span></span><br><span class="line"><span class="comment"># 3   1700004  姚鈺迪  Female  34.0  基隆市中正區    住宿 和 餐飲業</span></span><br><span class="line"><span class="comment"># 4   1700004  姚鈺迪  Female  34.0  基隆市中正區      住宿和餐飲業</span></span><br><span class="line"><span class="comment"># 5   1700005  袁劭彥    Male  42.0  臺北市文山區     金融業和房地產</span></span><br><span class="line"><span class="comment"># 11  1700011  許合蓉  Female  61.0  新北市三重區      住宿和餐飲業</span></span><br><span class="line"><span class="comment"># 12  1700012  武家豪    Male  53.0  新北市三重區       農林牧漁業</span></span><br><span class="line"><span class="comment"># 14  1700014  周聿綠  Female  57.0  基隆市中正區     金融業和房地產</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 多項計算</span></span><br><span class="line"><span class="built_in">print</span>(df.groupby(<span class="string">&#x27;縣市&#x27;</span>)[<span class="string">&#x27;確定病例數&#x27;</span>].agg([<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;count&#x27;</span>,<span class="string">&#x27;max&#x27;</span>,<span class="string">&#x27;min&#x27;</span>,<span class="string">&#x27;mean&#x27;</span>]))</span><br><span class="line"><span class="comment"># sum	count	max	min	mean</span></span><br><span class="line"><span class="comment"># 縣市					</span></span><br><span class="line"><span class="comment"># 南投縣	2	2	1	1	1.000000</span></span><br><span class="line"><span class="comment"># 台中市	32	24	4	1	1.333333</span></span><br><span class="line"><span class="comment"># 台北市	83	56	10	1	1.482143</span></span><br><span class="line"><span class="comment"># 台南市	12	11	2	1	1.090909</span></span><br><span class="line"><span class="comment"># 嘉義市	3	3	1	1	1.000000</span></span><br></pre></td></tr></table></figure>

<h4 id="數值處理-調整"><a href="#數值處理-調整" class="headerlink" title="數值處理 - 調整"></a>數值處理 - 調整</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 數值處理 - 調整</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;customer.csv&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="comment">#          id name  gender   age    area         job</span></span><br><span class="line"><span class="comment"># 0   1700001  李國發    Male  21.0  新北市三重區   金融業 和房地產</span></span><br><span class="line"><span class="comment"># 1   1700002  吳俊諺     NaN   NaN  臺北市文山區     金融業和房地產</span></span><br><span class="line"><span class="comment"># 2   1700003  蔡俊毅     NaN   NaN  臺北市文山區    教育體育  文化</span></span><br><span class="line"><span class="comment"># 3   1700004  姚鈺迪  Female  34.0  基隆市中正區    住宿 和 餐飲業</span></span><br><span class="line"><span class="comment"># 4   1700004  姚鈺迪  Female  34.0  基隆市中正區      住宿和餐飲業</span></span><br><span class="line"><span class="comment"># 5   1700005  袁劭彥    Male  42.0  臺北市文山區     金融業和房地產</span></span><br><span class="line"><span class="comment"># 6   1700006  蔡登意     NaN   NaN     NaN     金融業和房地產</span></span><br><span class="line"><span class="comment"># 7   1700007  吳景翔     NaN  39.0     NaN       農林牧漁業</span></span><br><span class="line"><span class="comment"># 8   1700008  邱孝信     NaN  39.0     NaN     金融業和房地產</span></span><br><span class="line"><span class="comment"># 9   1700009  陳明輝     NaN  57.0  基隆市中正區     金融業和房地產</span></span><br><span class="line"><span class="comment"># 10  1700010  彭郁翔     NaN  55.0  基隆市中正區      住宿和餐飲業</span></span><br><span class="line"><span class="comment"># 11  1700011  許合蓉  Female  61.0  新北市三重區      住宿和餐飲業</span></span><br><span class="line"><span class="comment"># 12  1700012  武家豪    Male  53.0  新北市三重區       農林牧漁業</span></span><br><span class="line"><span class="comment"># 13  1700013  郭信邦     NaN  48.0  新北市三重區      教育體育文化</span></span><br><span class="line"><span class="comment"># 14  1700014  周聿綠  Female  57.0  基隆市中正區     金融業和房地產</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除重複</span></span><br><span class="line">df_sample = df.copy()</span><br><span class="line"><span class="comment"># subset 判斷欄位</span></span><br><span class="line"><span class="comment"># keep first第一筆, last最後一筆</span></span><br><span class="line"><span class="comment"># inplace True : 原資料更新</span></span><br><span class="line">df_sample.drop_duplicates(subset=<span class="string">&#x27;id&#x27;</span>, keep=<span class="string">&#x27;first&#x27;</span>, inplace=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-- delete duplicate --&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df_sample)</span><br><span class="line"><span class="comment">#          id name  gender   age    area         job</span></span><br><span class="line"><span class="comment"># 0   1700001  李國發    Male  21.0  新北市三重區   金融業 和房地產</span></span><br><span class="line"><span class="comment"># 1   1700002  吳俊諺     NaN   NaN  臺北市文山區     金融業和房地產</span></span><br><span class="line"><span class="comment"># 2   1700003  蔡俊毅     NaN   NaN  臺北市文山區    教育體育  文化</span></span><br><span class="line"><span class="comment"># 3   1700004  姚鈺迪  Female  34.0  基隆市中正區    住宿 和 餐飲業</span></span><br><span class="line"><span class="comment"># 5   1700005  袁劭彥    Male  42.0  臺北市文山區     金融業和房地產</span></span><br><span class="line"><span class="comment"># 6   1700006  蔡登意     NaN   NaN     NaN     金融業和房地產</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 資料內容置換</span></span><br><span class="line"><span class="comment"># df.str.strip 去除左右空白</span></span><br><span class="line"><span class="comment"># df.str.lstrip 去除左邊空白</span></span><br><span class="line"><span class="comment"># df.str.rstrip 去除右邊空白</span></span><br><span class="line"><span class="comment"># df.str.replace(old,new) 替換文字</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-- strip + replace --&#x27;</span>)</span><br><span class="line">df_sample = df.copy()</span><br><span class="line">df_sample[<span class="string">&#x27;job&#x27;</span>] = df_sample[<span class="string">&#x27;job&#x27;</span>].<span class="built_in">str</span>.strip()</span><br><span class="line">df_sample[<span class="string">&#x27;job&#x27;</span>] = df_sample[<span class="string">&#x27;job&#x27;</span>].<span class="built_in">str</span>.replace(<span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df_sample.head())</span><br><span class="line">        <span class="comment"># id name  gender   age    area      job</span></span><br><span class="line"><span class="comment"># 0  1700001  李國發    Male  21.0  新北市三重區  金融業和房地產</span></span><br><span class="line"><span class="comment"># 1  1700002  吳俊諺     NaN   NaN  臺北市文山區  金融業和房地產</span></span><br><span class="line"><span class="comment"># 2  1700003  蔡俊毅     NaN   NaN  臺北市文山區   教育體育文化</span></span><br><span class="line"><span class="comment"># 3  1700004  姚鈺迪  Female  34.0  基隆市中正區   住宿和餐飲業</span></span><br><span class="line"><span class="comment"># 4  1700004  姚鈺迪  Female  34.0  基隆市中正區   住宿和餐飲業</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 欄位格式調整</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-- age type to int32 --&#x27;</span>)</span><br><span class="line"><span class="comment"># Cannot convert non-finite values (NA or inf) to integer</span></span><br><span class="line">df_sample[<span class="string">&#x27;age&#x27;</span>] = df_sample[<span class="string">&#x27;age&#x27;</span>].ffill()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;df_sample[&#x27;age&#x27;] type)&quot;</span>, <span class="built_in">type</span>(df_sample[<span class="string">&#x27;age&#x27;</span>].dtype) )</span><br><span class="line">df_sample[<span class="string">&#x27;age&#x27;</span>] = df_sample[<span class="string">&#x27;age&#x27;</span>].astype(<span class="string">&#x27;int32&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;df_sample[&#x27;age&#x27;] type)&quot;</span>, <span class="built_in">type</span>(df_sample[<span class="string">&#x27;age&#x27;</span>].dtype) )</span><br><span class="line"><span class="built_in">print</span>(df_sample.head())</span><br><span class="line"><span class="comment"># df_sample[&#x27;age&#x27;] type) &lt;class &#x27;numpy.dtypes.Float64DType&#x27;&gt;</span></span><br><span class="line"><span class="comment"># df_sample[&#x27;age&#x27;] type) &lt;class &#x27;numpy.dtypes.Int32DType&#x27;&gt;</span></span><br><span class="line"><span class="comment">#         id name  gender  age    area      job</span></span><br><span class="line"><span class="comment"># 0  1700001  李國發    Male   21  新北市三重區  金融業和房地產</span></span><br><span class="line"><span class="comment"># 1  1700002  吳俊諺     NaN   21  臺北市文山區  金融業和房地產</span></span><br><span class="line"><span class="comment"># 2  1700003  蔡俊毅     NaN   21  臺北市文山區   教育體育文化</span></span><br><span class="line"><span class="comment"># 3  1700004  姚鈺迪  Female   34  基隆市中正區   住宿和餐飲業</span></span><br><span class="line"><span class="comment"># 4  1700004  姚鈺迪  Female   34  基隆市中正區   住宿和餐飲業</span></span><br></pre></td></tr></table></figure>

<h4 id="資料篩選-分組運算"><a href="#資料篩選-分組運算" class="headerlink" title="資料篩選,分組運算"></a>資料篩選,分組運算</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 資料篩選,分組運算</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;customer.csv&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="comment">#          id name  gender   age    area         job</span></span><br><span class="line"><span class="comment"># 0   1700001  李國發    Male  21.0  新北市三重區   金融業 和房地產</span></span><br><span class="line"><span class="comment"># 1   1700002  吳俊諺     NaN   NaN  臺北市文山區     金融業和房地產</span></span><br><span class="line"><span class="comment"># 2   1700003  蔡俊毅     NaN   NaN  臺北市文山區    教育體育  文化</span></span><br><span class="line"><span class="comment"># 3   1700004  姚鈺迪  Female  34.0  基隆市中正區    住宿 和 餐飲業</span></span><br><span class="line"><span class="comment"># 4   1700004  姚鈺迪  Female  34.0  基隆市中正區      住宿和餐飲業</span></span><br><span class="line"><span class="comment"># 5   1700005  袁劭彥    Male  42.0  臺北市文山區     金融業和房地產</span></span><br><span class="line"><span class="comment"># 6   1700006  蔡登意     NaN   NaN     NaN     金融業和房地產</span></span><br><span class="line"><span class="comment"># 7   1700007  吳景翔     NaN  39.0     NaN       農林牧漁業</span></span><br><span class="line"><span class="comment"># 8   1700008  邱孝信     NaN  39.0     NaN     金融業和房地產</span></span><br><span class="line"><span class="comment"># 9   1700009  陳明輝     NaN  57.0  基隆市中正區     金融業和房地產</span></span><br><span class="line"><span class="comment"># 10  1700010  彭郁翔     NaN  55.0  基隆市中正區      住宿和餐飲業</span></span><br><span class="line"><span class="comment"># 11  1700011  許合蓉  Female  61.0  新北市三重區      住宿和餐飲業</span></span><br><span class="line"><span class="comment"># 12  1700012  武家豪    Male  53.0  新北市三重區       農林牧漁業</span></span><br><span class="line"><span class="comment"># 13  1700013  郭信邦     NaN  48.0  新北市三重區      教育體育文化</span></span><br><span class="line"><span class="comment"># 14  1700014  周聿綠  Female  57.0  基隆市中正區     金融業和房地產</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 欄位條件</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-- 欄位條件 --&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[df[<span class="string">&#x27;gender&#x27;</span>] == <span class="string">&#x27;Female&#x27;</span>])</span><br><span class="line"><span class="comment">#          id name  gender   age    area        job</span></span><br><span class="line"><span class="comment"># 3   1700004  姚鈺迪  Female  34.0  基隆市中正區   住宿 和 餐飲業</span></span><br><span class="line"><span class="comment"># 4   1700004  姚鈺迪  Female  34.0  基隆市中正區     住宿和餐飲業</span></span><br><span class="line"><span class="comment"># 11  1700011  許合蓉  Female  61.0  新北市三重區     住宿和餐飲業</span></span><br><span class="line"><span class="comment"># 14  1700014  周聿綠  Female  57.0  基隆市中正區    金融業和房地產</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 欄位多條件</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-- 欄位多條件 --&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[(df[<span class="string">&#x27;gender&#x27;</span>] == <span class="string">&#x27;Male&#x27;</span>) &amp; (df[<span class="string">&#x27;age&#x27;</span>] &gt; <span class="number">50</span>)])</span><br><span class="line"><span class="comment">#          id name gender   age    area    job</span></span><br><span class="line"><span class="comment"># 12  1700012  武家豪   Male  53.0  新北市三重區  農林牧漁業</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 包含多內容</span></span><br><span class="line"><span class="built_in">print</span>(df[df[<span class="string">&#x27;縣市&#x27;</span>].isin([<span class="string">&quot;台北市&quot;</span>,<span class="string">&quot;台中市&quot;</span>,<span class="string">&quot;高雄市&quot;</span>])])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分組運算欄</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-- gender&#x27;s age mean --&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.groupby(<span class="string">&#x27;gender&#x27;</span>)[<span class="string">&#x27;age&#x27;</span>].mean())</span><br><span class="line"><span class="comment"># gender</span></span><br><span class="line"><span class="comment"># Female    46.500000</span></span><br><span class="line"><span class="comment"># Male      38.666667</span></span><br><span class="line"><span class="comment"># Name: age, dtype: float64</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 彙總統計</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-- gender&#x27;s age mean, min, max --&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.groupby(<span class="string">&#x27;gender&#x27;</span>)[<span class="string">&#x27;age&#x27;</span>].agg([<span class="string">&#x27;mean&#x27;</span>, <span class="string">&#x27;min&#x27;</span>, <span class="string">&#x27;max&#x27;</span>]))</span><br><span class="line"><span class="comment">#              mean   min   max</span></span><br><span class="line"><span class="comment"># gender</span></span><br><span class="line"><span class="comment"># Female  46.500000  34.0  61.0</span></span><br><span class="line"><span class="comment"># Male    38.666667  21.0  53.0</span></span><br></pre></td></tr></table></figure>

<h3 id="DataFrame-data-access"><a href="#DataFrame-data-access" class="headerlink" title="DataFrame data access"></a>DataFrame data access</h3><h4 id="read-data"><a href="#read-data" class="headerlink" title="read data"></a>read data</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># read data</span></span><br><span class="line"><span class="comment"># read_csv():.csv</span></span><br><span class="line"><span class="comment"># read_json():.json</span></span><br><span class="line"><span class="comment"># read_excel():xlsx</span></span><br><span class="line"><span class="comment"># read_html():.html</span></span><br><span class="line"><span class="comment"># read_sql() :SQLite</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment"># sep : 分隔號, default &#x27;,&#x27;</span></span><br><span class="line"><span class="comment"># encoding : 編碼</span></span><br><span class="line">df1 = pd.read_csv(<span class="string">&#x27;covid19.csv&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;csv&#x27;</span>, df1)</span><br><span class="line">df2 = pd.read_json(<span class="string">&#x27;./covid19.json&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;json&#x27;</span>,df2)</span><br><span class="line"><span class="comment"># read_excel need install openpyxl : pip install openpyxl</span></span><br><span class="line">df3 = pd.read_excel(<span class="string">&#x27;./covid19.xlsx&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;excel&#x27;</span>,df3)</span><br><span class="line"><span class="comment"># read_html need install lxml :</span></span><br><span class="line"><span class="comment"># keep_default_na  是否去除空値</span></span><br><span class="line">url = <span class="string">&#x27;https://www.tiobe.com/tiobe-index/&#x27;</span></span><br><span class="line">tables = pd.read_html(url, keep_default_na=<span class="literal">False</span>)</span><br><span class="line"><span class="comment"># print(tables)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;html&#x27;</span>,tables[<span class="number">0</span>].head(<span class="number">10</span>))</span><br></pre></td></tr></table></figure>

<h4 id="write-data"><a href="#write-data" class="headerlink" title="write data"></a>write data</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># write data</span></span><br><span class="line"><span class="comment"># to_csv():.csv</span></span><br><span class="line"><span class="comment"># to_json():.json</span></span><br><span class="line"><span class="comment"># to_excel():xlsx</span></span><br><span class="line"><span class="comment"># to_html():.html</span></span><br><span class="line"><span class="comment"># to_sql() :SQLite</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame([[<span class="number">65</span>,<span class="number">92</span>,<span class="number">78</span>,<span class="number">83</span>,<span class="number">70</span>],</span><br><span class="line">                   [<span class="number">90</span>,<span class="number">72</span>,<span class="number">76</span>,<span class="number">93</span>,<span class="number">56</span>],</span><br><span class="line">                   [<span class="number">81</span>,<span class="number">85</span>,<span class="number">91</span>,<span class="number">89</span>,<span class="number">77</span>],</span><br><span class="line">                   [<span class="number">79</span>,<span class="number">53</span>,<span class="number">47</span>,<span class="number">94</span>,<span class="number">80</span>]],</span><br><span class="line">                  index=[<span class="string">&#x27;大明&#x27;</span>,<span class="string">&#x27;小王&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>,<span class="string">&#x27;張山&#x27;</span>],</span><br><span class="line">                  columns=[<span class="string">&#x27;英文&#x27;</span>,<span class="string">&#x27;國文&#x27;</span>,<span class="string">&#x27;數學&#x27;</span>,<span class="string">&#x27;社會&#x27;</span>,<span class="string">&#x27;生活&#x27;</span>])</span><br><span class="line">df.to_csv(<span class="string">&#x27;scores2.csv&#x27;</span>)</span><br><span class="line"><span class="comment"># 不存索引</span></span><br><span class="line">df.to_csv(<span class="string">&#x27;new_diabetes.csv&#x27;</span>, index=<span class="literal">False</span>)</span><br><span class="line">df.to_excel(<span class="string">&#x27;scores2.xlsx&#x27;</span>)</span><br><span class="line">df.to_json(<span class="string">&#x27;scores2.json&#x27;</span>)</span><br><span class="line">df.to_html(<span class="string">&#x27;scores2.html&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="some-special"><a href="#some-special" class="headerlink" title="some special"></a>some special</h3><h4 id="show-DataFrame-對齊"><a href="#show-DataFrame-對齊" class="headerlink" title="show DataFrame 對齊"></a>show DataFrame 對齊</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># column 對齊資料</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>, <span class="literal">True</span>)</span><br><span class="line"><span class="comment"># 若含有中英文資料可以對齊</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>, <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.head())</span><br><span class="line"><span class="comment">#     ID    Education</span></span><br><span class="line"><span class="comment"># 0  101         高中</span></span><br><span class="line"><span class="comment"># 1  102         大學</span></span><br><span class="line"><span class="comment"># 2  103         碩士</span></span><br><span class="line"><span class="comment"># 3  104         博士</span></span><br><span class="line"><span class="comment"># 4  105  high_school</span></span><br></pre></td></tr></table></figure>

<h4 id="option-設定"><a href="#option-設定" class="headerlink" title="option 設定"></a>option 設定</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 顯示所有 columns</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.max_columns&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line"><span class="comment"># 設定顯示每 row 長度</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.width&#x27;</span>, <span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 設定輸出到第二位小數</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.float_format&#x27;</span>, <span class="string">&#x27;&#123;:.2f&#125;&#x27;</span>.<span class="built_in">format</span>)</span><br></pre></td></tr></table></figure>

<h4 id="檢查資料缺失"><a href="#檢查資料缺失" class="headerlink" title="檢查資料缺失"></a>檢查資料缺失</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># isnull() 檢查資料缺失</span></span><br><span class="line"><span class="built_in">print</span>(boston.isnull().<span class="built_in">sum</span>())</span><br><span class="line"><span class="comment"># column NaN 統計:</span></span><br><span class="line"><span class="comment"># id        0</span></span><br><span class="line"><span class="comment"># name      0</span></span><br><span class="line"><span class="comment"># gender    8</span></span><br><span class="line"><span class="comment"># age       3</span></span><br><span class="line"><span class="comment"># area      3</span></span><br><span class="line"><span class="comment"># job       0</span></span><br><span class="line"><span class="comment"># dtype: int64</span></span><br></pre></td></tr></table></figure>

<h4 id="缺失值處理"><a href="#缺失值處理" class="headerlink" title="缺失值處理"></a>缺失值處理</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 將0值,替換為中位數</span></span><br><span class="line"><span class="keyword">for</span> column <span class="keyword">in</span> columns_with_potential_missing_values:</span><br><span class="line">    median = df[column].median()</span><br><span class="line">    df[column] = df[column].replace(to_replace=<span class="number">0</span>, value=median )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 將 ? 轉成 np.nan</span></span><br><span class="line">data = data.replace(<span class="string">&#x27;?&#x27;</span>, np.nan)</span><br></pre></td></tr></table></figure>

<h4 id="將某個欄位設為資料表的索引"><a href="#將某個欄位設為資料表的索引" class="headerlink" title="將某個欄位設為資料表的索引"></a>將某個欄位設為資料表的索引</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = data.set_index(<span class="string">&#x27;Date&#x27;</span>):</span><br></pre></td></tr></table></figure>

<h4 id="show-出相互皮爾遜相關係數"><a href="#show-出相互皮爾遜相關係數" class="headerlink" title="show 出相互皮爾遜相關係數"></a>show 出相互皮爾遜相關係數</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># show 出相互皮爾遜相關係數</span></span><br><span class="line"><span class="comment"># &gt; ±.7      相關性強</span></span><br><span class="line"><span class="comment"># ±.3 ~  ±.7 相關性中</span></span><br><span class="line"><span class="comment"># ±.1 ~  ±.3 相關性弱</span></span><br><span class="line"><span class="comment"># ≦ 0.1      相關性無</span></span><br><span class="line"><span class="built_in">print</span>(boston.corr())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用程式挑最有相關的2個特徵</span></span><br><span class="line"><span class="built_in">print</span>(boston.corr().<span class="built_in">abs</span>().nlargest(<span class="number">3</span>, <span class="string">&#x27;MEDV&#x27;</span>).index)</span><br><span class="line"><span class="built_in">print</span>(boston.corr().<span class="built_in">abs</span>().nlargest(<span class="number">3</span>, <span class="string">&#x27;MEDV&#x27;</span>).values[:,<span class="number">13</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># show 出相互皮爾遜相關係數</span></span><br><span class="line"><span class="comment"># &gt; ±.7      相關性強</span></span><br><span class="line"><span class="comment"># ±.3 ~  ±.7 相關性中</span></span><br><span class="line"><span class="comment"># ±.1 ~  ±.3 相關性弱</span></span><br><span class="line"><span class="comment"># ≦ 0.1      相關性無</span></span><br><span class="line"><span class="built_in">print</span>(boston.corr())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用程式挑最有相關的2個特徵</span></span><br><span class="line"><span class="built_in">print</span>(boston.corr().<span class="built_in">abs</span>().nlargest(<span class="number">3</span>, <span class="string">&#x27;MEDV&#x27;</span>).index)</span><br><span class="line"><span class="built_in">print</span>(boston.corr().<span class="built_in">abs</span>().nlargest(<span class="number">3</span>, <span class="string">&#x27;MEDV&#x27;</span>).values[:,<span class="number">13</span>])</span><br></pre></td></tr></table></figure>

<h4 id="將兩個一維陣列組成二維陣列"><a href="#將兩個一維陣列組成二維陣列" class="headerlink" title="將兩個一維陣列組成二維陣列"></a>將兩個一維陣列組成二維陣列</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 將兩個一維陣列組成二維陣列</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">b = np.array([<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line">c = np.c_[a, b]</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="comment"># [[1 4]</span></span><br><span class="line"><span class="comment">#  [2 5]</span></span><br><span class="line"><span class="comment">#  [3 6]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># X = pd.DataFrame(np.c_[boston[&#x27;LSTAT&#x27;], boston[&#x27;RM&#x27;]], columns=[&#x27;LSTAT&#x27;, &#x27;RM&#x27;])</span></span><br></pre></td></tr></table></figure>

<h4 id="Series-轉成-array"><a href="#Series-轉成-array" class="headerlink" title="Series 轉成 array"></a>Series 轉成 array</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;測試真實分類\n<span class="subst">&#123;y_test.to_numpy()&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="輸出數據統計資訊"><a href="#輸出數據統計資訊" class="headerlink" title="輸出數據統計資訊"></a>輸出數據統計資訊</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;輸出數據統計資訊&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.describe())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 輸出數據統計資訊</span></span><br><span class="line"><span class="comment">#        Pregnancies  Glucose  BloodPressure  SkinThickness  Insulin    BMI  DiabetesPedigreeF</span></span><br><span class="line"><span class="comment"># count       768.00   768.00         768.00         768.00   768.00 768.00</span></span><br><span class="line"><span class="comment"># mean          3.85   120.89          69.11          20.54    79.80  31.99</span></span><br><span class="line"><span class="comment"># 50%           3.00   117.00          72.00          23.00    30.50  32.00                      0.37  29.00     0.00</span></span><br><span class="line"><span class="comment"># 75%           6.00   140.25          80.00          32.00   127.25  36.60                      0.63  41.00     1.00</span></span><br><span class="line"><span class="comment"># max          17.00   199.00         122.00          99.00   846.00  67.10                      2.42  81.00     1.00</span></span><br></pre></td></tr></table></figure>

<h4 id="輸出數據基本欄位資料"><a href="#輸出數據基本欄位資料" class="headerlink" title="輸出數據基本欄位資料"></a>輸出數據基本欄位資料</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(titanic.info())</span><br><span class="line"></span><br><span class="line"><span class="comment"># &lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span></span><br><span class="line"><span class="comment"># RangeIndex: 891 entries, 0 to 890</span></span><br><span class="line"><span class="comment"># Data columns (total 15 columns):</span></span><br><span class="line"><span class="comment">#  #   Column       Non-Null Count  Dtype</span></span><br><span class="line"><span class="comment"># ---  ------       --------------  -----</span></span><br><span class="line"><span class="comment">#  0   survived     891 non-null    int64</span></span><br><span class="line"><span class="comment">#  1   pclass       891 non-null    int64</span></span><br><span class="line"><span class="comment">#  2   sex          891 non-null    object</span></span><br><span class="line"><span class="comment">#  3   age          714 non-null    float64</span></span><br><span class="line"><span class="comment">#  4   sibsp        891 non-null    int64</span></span><br><span class="line"><span class="comment">#  5   parch        891 non-null    int64</span></span><br><span class="line"><span class="comment">#  6   fare         891 non-null    float64</span></span><br><span class="line"><span class="comment">#  7   embarked     889 non-null    object</span></span><br><span class="line"><span class="comment">#  8   class        891 non-null    category</span></span><br><span class="line"><span class="comment">#  9   who          891 non-null    object</span></span><br><span class="line"><span class="comment">#  10  adult_male   891 non-null    bool</span></span><br><span class="line"><span class="comment">#  11  deck         203 non-null    category</span></span><br><span class="line"><span class="comment">#  12  embark_town  889 non-null    object</span></span><br><span class="line"><span class="comment">#  13  alive        891 non-null    object</span></span><br><span class="line"><span class="comment">#  14  alone        891 non-null    bool</span></span><br><span class="line"><span class="comment"># dtypes: bool(2), category(2), float64(2), int64(4), object(5)</span></span><br><span class="line"><span class="comment"># memory usage: 80.7+ KB</span></span><br></pre></td></tr></table></figure>

<h4 id="交叉分析"><a href="#交叉分析" class="headerlink" title="交叉分析"></a>交叉分析</h4><ul>
<li><a href="/2024/06/27/python-33/" title="# 交叉分析表格介紹"># 交叉分析表格介紹</a></li>
<li><a href="/2024/06/27/python-33/" title="# 鐵達尼號交叉分析"># 鐵達尼號交叉分析</a></li>
</ul>
<h4 id="列出原符號和對應的數值"><a href="#列出原符號和對應的數值" class="headerlink" title="列出原符號和對應的數值"></a>列出原符號和對應的數值</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">or</span> column <span class="keyword">in</span> df.columns:</span><br><span class="line">    <span class="keyword">if</span> df[column].dtype == <span class="string">&#x27;object&#x27;</span>:</span><br><span class="line">        le = LabelEncoder()</span><br><span class="line">        df[column] = le.fit_transform(df[column])</span><br><span class="line">        <span class="keyword">if</span> column != <span class="string">&#x27;TotalCharges&#x27;</span>:</span><br><span class="line">            <span class="comment"># 列出原符號和對應的數值</span></span><br><span class="line">            label_mapping = <span class="built_in">dict</span>(<span class="built_in">zip</span>(le.classes_, le.transform(le.classes_)))</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;column&#125;</span> <span class="subst">&#123;label_mapping&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="function"><a href="#function" class="headerlink" title="function"></a>function</h3><h4 id="get-dummies-將類別變數轉為-one-hot-編碼"><a href="#get-dummies-將類別變數轉為-one-hot-編碼" class="headerlink" title="get_dummies() 將類別變數轉為 one-hot 編碼"></a>get_dummies() 將類別變數轉為 one-hot 編碼</h4><a href="/2024/06/13/python-32/" title="# One-hot 編碼"># One-hot 編碼</a>

<h4 id="rename-用於重命名-DataFrame-或-Series-中的標籤"><a href="#rename-用於重命名-DataFrame-或-Series-中的標籤" class="headerlink" title="rename() 用於重命名 DataFrame 或 Series 中的標籤"></a>rename() 用於重命名 DataFrame 或 Series 中的標籤</h4><a href="/2024/06/13/python-32/" title="# 特徵名稱由中文改為英文"># 特徵名稱由中文改為英文</a>

<h4 id="map-轉換資料為數值資料"><a href="#map-轉換資料為數值資料" class="headerlink" title="map() 轉換資料為數值資料"></a>map() 轉換資料為數值資料</h4><a href="/2024/06/13/python-32/" title="# 資料對應 map() 方法"># 資料對應 map() 方法</a>

<h4 id="中位數"><a href="#中位數" class="headerlink" title="中位數"></a>中位數</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 年齡補上中位數年齡</span></span><br><span class="line">titanic_data[<span class="string">&#x27;age&#x27;</span>] = titanic_data[<span class="string">&#x27;age&#x27;</span>].fillna(titanic_data[<span class="string">&#x27;age&#x27;</span>].median())</span><br></pre></td></tr></table></figure>

<h4 id="眾數"><a href="#眾數" class="headerlink" title="眾數"></a>眾數</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 登船港口用眾位數取代缺失值</span></span><br><span class="line"><span class="comment"># mode() 傳回的是一個包含眾數的 Series，因此需要取 [0] 來獲取第一個眾數</span></span><br><span class="line">titanic_data[<span class="string">&#x27;embarked&#x27;</span>] = titanic_data[<span class="string">&#x27;embarked&#x27;</span>].fillna(titanic_data[<span class="string">&#x27;embarked&#x27;</span>].mode()[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<h4 id="check-column-type"><a href="#check-column-type" class="headerlink" title="check column type"></a>check column type</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> column <span class="keyword">in</span> df.columns:</span><br><span class="line">		<span class="comment"># check column type</span></span><br><span class="line">    <span class="keyword">if</span> df[column].dtype == <span class="string">&#x27;object&#x27;</span>:</span><br><span class="line">        le = LabelEncoder()</span><br><span class="line">        df[column] = le.fit_transform(df[column])</span><br></pre></td></tr></table></figure>

<h4 id="刪除缺失值"><a href="#刪除缺失值" class="headerlink" title="刪除缺失值"></a>刪除缺失值</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 刪除缺失值,處理缺失數據(本例其實不需要)</span></span><br><span class="line">df= df.dropna()</span><br></pre></td></tr></table></figure>

<h4 id="轉換日期"><a href="#轉換日期" class="headerlink" title="轉換日期"></a>轉換日期</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Date 轉為日期型數據</span></span><br><span class="line">final_df[<span class="string">&#x27;Date&#x27;</span>] = pd.to_datetime(final_df[<span class="string">&#x27;Date&#x27;</span>], <span class="built_in">format</span>=<span class="string">&#x27;%d/%m/%Y&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提出年份及月份</span></span><br><span class="line">final_df[<span class="string">&#x27;Year&#x27;</span>] = final_df[<span class="string">&#x27;Date&#x27;</span>].dt.year</span><br><span class="line">final_df[<span class="string">&#x27;Month&#x27;</span>] = final_df[<span class="string">&#x27;Date&#x27;</span>].dt.month</span><br><span class="line"></span><br><span class="line"><span class="comment"># 轉為日期時間物件,再轉為時間戳記</span></span><br><span class="line">df[<span class="string">&#x27;Close Approach Date&#x27;</span>] = pd.to_datetime(df[<span class="string">&#x27;Close Approach Date&#x27;</span>]).astype(<span class="string">&#x27;int64&#x27;</span>) // <span class="number">10</span>**<span class="number">9</span></span><br></pre></td></tr></table></figure>

<h4 id="更改-column-name"><a href="#更改-column-name" class="headerlink" title="更改 column name"></a>更改 column name</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">final_df = final_df.rename(columns=&#123;<span class="string">&#x27;IsHoliday_x&#x27;</span>: <span class="string">&#x27;IsHoliday&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="合併-DataFrame"><a href="#合併-DataFrame" class="headerlink" title="合併 DataFrame"></a>合併 DataFrame</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 合併 features_df, sales_df, link key = &#x27;Store&#x27; + &#x27;Date&#x27;</span></span><br><span class="line">merged_df = pd.merge(sales_df, features_df, on=[<span class="string">&#x27;Store&#x27;</span>, <span class="string">&#x27;Date&#x27;</span>], how=<span class="string">&#x27;left&#x27;</span>)</span><br><span class="line"><span class="comment"># 合併 stores_pd, link key = &#x27;Store&#x27;</span></span><br><span class="line">final_df = pd.merge(merged_df, stores_pd, on=[<span class="string">&#x27;Store&#x27;</span>], how=<span class="string">&#x27;left&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="Type-轉為數字"><a href="#Type-轉為數字" class="headerlink" title="Type 轉為數字"></a>Type 轉為數字</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 將 Type 轉成類型數據</span></span><br><span class="line"><span class="comment"># 將 Type 列的資料類型轉換為 category 類型</span></span><br><span class="line"><span class="comment"># .cat.codes：將類別型資料轉換為對應的數字編碼。每個類別將被分配一個整數編碼（從0開始）</span></span><br><span class="line">final_df[<span class="string">&#x27;Type&#x27;</span>] = final_df[<span class="string">&#x27;Type&#x27;</span>].astype(<span class="string">&#x27;category&#x27;</span>).cat.codes</span><br><span class="line"></span><br><span class="line"><span class="comment"># 將類別轉成數字</span></span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> LabelEncoder</span><br><span class="line">le = LabelEncoder()</span><br><span class="line">categorical_features = [i <span class="keyword">for</span> i <span class="keyword">in</span> data.columns <span class="keyword">if</span> data.dtypes[i]==<span class="string">&#x27;object&#x27;</span> ]</span><br><span class="line"><span class="keyword">for</span> col <span class="keyword">in</span> categorical_features:</span><br><span class="line">    data[col] = le.fit_transform(data[col])</span><br></pre></td></tr></table></figure>

<h4 id="數據轉換為日期時間格式"><a href="#數據轉換為日期時間格式" class="headerlink" title="數據轉換為日期時間格式"></a>數據轉換為日期時間格式</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">&#x27;Date&#x27;</span>] = pd.to_datetime(data[<span class="string">&#x27;Date&#x27;</span>])</span><br></pre></td></tr></table></figure>

<h4 id="資料-2D-轉-1D"><a href="#資料-2D-轉-1D" class="headerlink" title="資料 2D 轉 1D"></a>資料 2D 轉 1D</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 資料 2D 轉 1D : y.values.ravel() 2D 轉 1D</span></span><br><span class="line"><span class="built_in">print</span>(y)</span><br><span class="line"><span class="built_in">print</span>(y.values.ravel())</span><br><span class="line"><span class="comment">#      MEDV</span></span><br><span class="line"><span class="comment"># 0    24.0</span></span><br><span class="line"><span class="comment"># 1    21.6</span></span><br><span class="line"><span class="comment"># 2    34.7</span></span><br><span class="line"><span class="comment"># 3    33.4</span></span><br><span class="line"><span class="comment"># 4    36.2</span></span><br><span class="line"><span class="comment"># [24.  21.6 34.7 33.4 36.2 28.7 ...</span></span><br></pre></td></tr></table></figure>

<h4 id="取出-columns’-name"><a href="#取出-columns’-name" class="headerlink" title="取出 columns’ name"></a>取出 columns’ name</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">features = X.columns</span><br></pre></td></tr></table></figure>

<h4 id="concat-合併數據"><a href="#concat-合併數據" class="headerlink" title="concat() - 合併數據"></a>concat() - 合併數據</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ignore_index=True：這個參數告訴 pd.concat() 在合併數據時，忽略原來的索引，並重新分配</span></span><br><span class="line"><span class="comment"># 一個連續的新索引。如果不設置此參數，新建的行可能會保留原本的索引，造成索引不一致。</span></span><br><span class="line">trade=pd.concat([trade, pd.DataFrame([[</span><br><span class="line">    prod,</span><br><span class="line">    <span class="string">&#x27;Buy&#x27;</span>,</span><br><span class="line">    order_time,</span><br><span class="line">    order_price,</span><br><span class="line">    cover_time,</span><br><span class="line">    cover_price,</span><br><span class="line">    order_unit</span><br><span class="line">    ]])], ignore_index=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<h3 id="繪圖"><a href="#繪圖" class="headerlink" title="繪圖"></a>繪圖</h3><h4 id="長條圖"><a href="#長條圖" class="headerlink" title="長條圖"></a>長條圖</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 繪圖 - 長條圖</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加入中文字體</span></span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">from</span> matplotlib.font_manager <span class="keyword">import</span> fontManager</span><br><span class="line"><span class="comment"># 加入中文字體</span></span><br><span class="line">fontManager.addfont(<span class="string">&#x27;NotoSansTC-Regular.ttf&#x27;</span>)</span><br><span class="line">matplotlib.rc(<span class="string">&#x27;font&#x27;</span>, family=<span class="string">&#x27;Noto Sans TC&#x27;</span>)</span><br><span class="line"><span class="comment">#                             default</span></span><br><span class="line"><span class="comment"># kind        圖形形式        Line(折線圖)</span></span><br><span class="line"><span class="comment"># title       圖形標題        None</span></span><br><span class="line"><span class="comment"># legend      顯示圖示說明    True</span></span><br><span class="line"><span class="comment"># grid        格線           False</span></span><br><span class="line"><span class="comment"># xlim        繪 x軸 刻度範圍 None</span></span><br><span class="line"><span class="comment"># ylim        繪 y軸 刻度範圍 None</span></span><br><span class="line"><span class="comment"># xtick       繪圖形 x軸刻度  None</span></span><br><span class="line"><span class="comment"># ytick       繪圖形 y軸刻度  None</span></span><br><span class="line"><span class="comment"># x           設定 x軸 資料   None</span></span><br><span class="line"><span class="comment"># y           設定 y軸 資料   None</span></span><br><span class="line"><span class="comment"># fontsize    設定 x,y軸刻度字體大小  None</span></span><br><span class="line"><span class="comment"># figsize     設定圖形長度及寬度      None</span></span><br><span class="line"><span class="comment"># kind: line(折線圖), hist(直方圖), scatter(散佈圖),</span></span><br><span class="line"><span class="comment">#       bar(長條圖), barh(橫條圖), pie(圓餅圖)</span></span><br><span class="line"></span><br><span class="line">df = pd.DataFrame([[<span class="number">250</span>,<span class="number">320</span>,<span class="number">300</span>,<span class="number">312</span>,<span class="number">280</span>],</span><br><span class="line">                   [<span class="number">280</span>,<span class="number">300</span>,<span class="number">280</span>,<span class="number">290</span>,<span class="number">315</span>],</span><br><span class="line">                   [<span class="number">220</span>,<span class="number">280</span>,<span class="number">250</span>,<span class="number">305</span>,<span class="number">250</span>]],</span><br><span class="line">                  index = [<span class="string">&#x27;北部&#x27;</span>,<span class="string">&#x27;中部&#x27;</span>,<span class="string">&#x27;南部&#x27;</span>,],</span><br><span class="line">                  columns = [<span class="number">2015</span>,<span class="number">2016</span>,<span class="number">2017</span>,<span class="number">2018</span>,<span class="number">2019</span>])</span><br><span class="line"></span><br><span class="line">g1 = df.plot(kind=<span class="string">&#x27;bar&#x27;</span>, title=<span class="string">&#x27;長條圖&#x27;</span>, figsize=[<span class="number">10</span>,<span class="number">5</span>])</span><br><span class="line">g2 = df.plot(kind=<span class="string">&#x27;barh&#x27;</span>, title=<span class="string">&#x27;橫條圖&#x27;</span>, figsize=[<span class="number">10</span>,<span class="number">5</span>])</span><br><span class="line">g3 = df.plot(kind=<span class="string">&#x27;bar&#x27;</span>, stacked=<span class="literal">True</span>, title=<span class="string">&#x27;堆疊圖&#x27;</span>, figsize=[<span class="number">10</span>,<span class="number">5</span>])</span><br><span class="line"><span class="comment"># also need srun plt.show()</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h4 id="折線圖"><a href="#折線圖" class="headerlink" title="折線圖"></a>折線圖</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 繪圖 - 折線圖</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加入中文字體</span></span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">from</span> matplotlib.font_manager <span class="keyword">import</span> fontManager</span><br><span class="line"><span class="comment"># 加入中文字體</span></span><br><span class="line">fontManager.addfont(<span class="string">&#x27;NotoSansTC-Regular.ttf&#x27;</span>)</span><br><span class="line">matplotlib.rc(<span class="string">&#x27;font&#x27;</span>, family=<span class="string">&#x27;Noto Sans TC&#x27;</span>)</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame([[<span class="number">250</span>,<span class="number">320</span>,<span class="number">300</span>,<span class="number">312</span>,<span class="number">280</span>],</span><br><span class="line">                   [<span class="number">280</span>,<span class="number">300</span>,<span class="number">280</span>,<span class="number">290</span>,<span class="number">315</span>],</span><br><span class="line">                   [<span class="number">220</span>,<span class="number">280</span>,<span class="number">250</span>,<span class="number">305</span>,<span class="number">250</span>]],</span><br><span class="line">                  index = [<span class="string">&#x27;北部&#x27;</span>,<span class="string">&#x27;中部&#x27;</span>,<span class="string">&#x27;南部&#x27;</span>,],</span><br><span class="line">                  columns = [<span class="number">2015</span>,<span class="number">2016</span>,<span class="number">2017</span>,<span class="number">2018</span>,<span class="number">2019</span>])</span><br><span class="line"></span><br><span class="line">g1 = df.iloc[<span class="number">0</span>].plot(kind=<span class="string">&#x27;line&#x27;</span>, legend=<span class="literal">True</span>,</span><br><span class="line">                            xticks=<span class="built_in">range</span>(<span class="number">2015</span>,<span class="number">2020</span>),</span><br><span class="line">                            title = <span class="string">&#x27;公司年度銷售表&#x27;</span>,</span><br><span class="line">                            figsize=[<span class="number">10</span>,<span class="number">5</span>])</span><br><span class="line">g1 = df.iloc[<span class="number">1</span>].plot(kind=<span class="string">&#x27;line&#x27;</span>, legend=<span class="literal">True</span>,</span><br><span class="line">                            xticks=<span class="built_in">range</span>(<span class="number">2015</span>,<span class="number">2020</span>))</span><br><span class="line">g1 = df.iloc[<span class="number">2</span>].plot(kind=<span class="string">&#x27;line&#x27;</span>, legend=<span class="literal">True</span>,</span><br><span class="line">                            xticks=<span class="built_in">range</span>(<span class="number">2015</span>,<span class="number">2020</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pd_stock = pd.read_csv(file_name, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">pd_stock.plot(kind=<span class="string">&#x27;line&#x27;</span>, figsize=(<span class="number">12</span>,<span class="number">6</span>), x=<span class="string">&#x27;日期&#x27;</span>,</span><br><span class="line">              y=[<span class="string">&#x27;收盤價&#x27;</span>, <span class="string">&#x27;最低價&#x27;</span>, <span class="string">&#x27;最高價&#x27;</span>])</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h4 id="圓餅圖"><a href="#圓餅圖" class="headerlink" title="圓餅圖"></a>圓餅圖</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 繪圖 - 圓餅圖</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加入中文字體</span></span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">from</span> matplotlib.font_manager <span class="keyword">import</span> fontManager</span><br><span class="line"><span class="comment"># 加入中文字體</span></span><br><span class="line">fontManager.addfont(<span class="string">&#x27;NotoSansTC-Regular.ttf&#x27;</span>)</span><br><span class="line">matplotlib.rc(<span class="string">&#x27;font&#x27;</span>, family=<span class="string">&#x27;Noto Sans TC&#x27;</span>)</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame([[<span class="number">40</span>,<span class="number">320</span>,<span class="number">300</span>,<span class="number">312</span>,<span class="number">280</span>],</span><br><span class="line">                   [<span class="number">280</span>,<span class="number">300</span>,<span class="number">280</span>,<span class="number">290</span>,<span class="number">30</span>],</span><br><span class="line">                   [<span class="number">220</span>,<span class="number">280</span>,<span class="number">25</span>,<span class="number">305</span>,<span class="number">250</span>]],</span><br><span class="line">                  index = [<span class="string">&#x27;北部&#x27;</span>,<span class="string">&#x27;中部&#x27;</span>,<span class="string">&#x27;南部&#x27;</span>,],</span><br><span class="line">                  columns = [<span class="number">2015</span>,<span class="number">2016</span>,<span class="number">2017</span>,<span class="number">2018</span>,<span class="number">2019</span>])</span><br><span class="line"><span class="comment"># subplots=True 多張圖放在一個區域</span></span><br><span class="line">df.plot(kind=<span class="string">&#x27;pie&#x27;</span>, subplots=<span class="literal">True</span>, figsize=[<span class="number">20</span>,<span class="number">20</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/python/" rel="tag"># python</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/04/12/python-22/" rel="prev" title="python Numpy">
                  <i class="fa fa-chevron-left"></i> python Numpy
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/04/22/python-24/" rel="next" title="Python connect to google sheet">
                  Python connect to google sheet <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Robert Kao</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="總字數">2.7m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="所需總閱讀時間">40:58</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 強力驅動
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="/js/local-search.js"></script>






  




  


<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://hot5656-blog.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://hot5656.github.io/2024/04/17/python-23/";
    this.page.identifier = "2024/04/17/python-23/";
    this.page.title = "python Pandas";
    };
  NexT.utils.loadComments('#disqus_thread', () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://hot5656-blog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
