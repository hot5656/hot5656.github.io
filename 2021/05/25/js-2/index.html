<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"hot5656.github.io","root":"/","images":"/images","scheme":"Gemini","version":"8.2.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜尋...","empty":"我們無法找到任何有關 ${query} 的搜索結果","hits_time":"${hits} 找到 ${time} 個結果","hits":"找到 ${hits} 個結果"},"path":"/search.json","localsearch":{"enable":"enable","trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>
<meta name="description" content="簡介名詞 Client-side Render(CSR) : API get data 再由 JavaScript 渲染 Server-side Render(SSR) : 在 Server-side 就先渲染成 HTML  Search Engine Optimization(SEO) : 搜尋引擎最佳化,透過了解搜尋引擎的運作規則來調整網站，以及提高目的網站在有關搜尋引擎內排名的方式  Jav">
<meta property="og:type" content="article">
<meta property="og:title" content="瀏覽器的 JavaScript">
<meta property="og:url" content="https://hot5656.github.io/2021/05/25/js-2/index.html">
<meta property="og:site_name" content="Robert 雜記">
<meta property="og:description" content="簡介名詞 Client-side Render(CSR) : API get data 再由 JavaScript 渲染 Server-side Render(SSR) : 在 Server-side 就先渲染成 HTML  Search Engine Optimization(SEO) : 搜尋引擎最佳化,透過了解搜尋引擎的運作規則來調整網站，以及提高目的網站在有關搜尋引擎內排名的方式  Jav">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://hot5656.github.io/2021/05/25/js-2/pic1.png">
<meta property="og:image" content="https://hot5656.github.io/2021/05/25/js-2/pic2.png">
<meta property="og:image" content="https://hot5656.github.io/2021/05/25/js-2/pic4.png">
<meta property="og:image" content="https://hot5656.github.io/2021/05/25/js-2/pic3.png">
<meta property="og:image" content="https://hot5656.github.io/2021/05/25/js-2/pic5.png">
<meta property="og:image" content="https://hot5656.github.io/2021/05/25/js-2/pic6.png">
<meta property="og:image" content="https://hot5656.github.io/2021/05/25/js-2/pic7.png">
<meta property="og:image" content="https://hot5656.github.io/2021/05/25/js-2/pic8.png">
<meta property="og:image" content="https://hot5656.github.io/2021/05/25/js-2/pic9.png">
<meta property="og:image" content="https://hot5656.github.io/2021/05/25/js-2/pic10.png">
<meta property="article:published_time" content="2021-05-25T01:36:25.000Z">
<meta property="article:modified_time" content="2021-08-01T01:08:25.830Z">
<meta property="article:author" content="Robert Kao">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="browser">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hot5656.github.io/2021/05/25/js-2/pic1.png">


<link rel="canonical" href="https://hot5656.github.io/2021/05/25/js-2/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-TW'
  };
</script>
<title>瀏覽器的 JavaScript | Robert 雜記</title>
  




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Robert 雜記</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>標籤</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分類</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>歸檔列表</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜尋..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B0%A1%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">簡介</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%8D%E8%A9%9E"><span class="nav-number">1.1.</span> <span class="nav-text">名詞</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JavaScript-%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="nav-number">1.2.</span> <span class="nav-text">JavaScript 的功能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%B7%E8%A1%8C"><span class="nav-number">1.3.</span> <span class="nav-text">執行</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%94%BE%E6%96%BC-body-%E6%9C%80%E5%BE%8C"><span class="nav-number">1.3.1.</span> <span class="nav-text">放於 body 最後</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%94%BE%E6%96%BC-head-%E6%9C%80%E5%BE%8C-%E4%BD%86%E8%A6%81%E5%8A%A0%E5%85%A5-DOM-loaded-%E5%9B%A0%E5%9F%B7%E8%A1%8C%E6%99%82-DOM-%E5%B0%9A%E6%9C%AA-load-%E5%AE%8C%E6%88%90"><span class="nav-number">1.3.2.</span> <span class="nav-text">放於 head 最後, 但要加入 DOM loaded(因執行時 DOM 尚未 load 完成)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#head-%E5%8A%A0%E5%85%A5js-%E6%AA%94"><span class="nav-number">1.3.3.</span> <span class="nav-text">head 加入js 檔</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DOM"><span class="nav-number">2.</span> <span class="nav-text">DOM</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DOM-API"><span class="nav-number">2.1.</span> <span class="nav-text">DOM API</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%81%B8%E5%85%83%E7%B4%A0"><span class="nav-number">2.1.1.</span> <span class="nav-text">選元素</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#parentElement"><span class="nav-number">2.1.1.1.</span> <span class="nav-text">.parentElement</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#parentNode"><span class="nav-number">2.1.1.2.</span> <span class="nav-text">.parentNode</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%94%B9%E8%AE%8A-css"><span class="nav-number">2.1.2.</span> <span class="nav-text">改變 css</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%94%B9%E8%AE%8A-class"><span class="nav-number">2.1.3.</span> <span class="nav-text">改變 class</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#check-%E6%98%AF%E5%90%A6%E5%8C%85%E5%90%AB%E6%9F%90class"><span class="nav-number">2.1.3.1.</span> <span class="nav-text">check 是否包含某class</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%94%B9%E8%AE%8A%E5%85%A7%E5%AE%B9-innerText-innerHTML-outerHTML"><span class="nav-number">2.1.4.</span> <span class="nav-text">改變內容 innerText, innerHTML, outerHTML</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8A%A0%E5%85%A5%E5%88%AA%E9%99%A4-%E5%85%83%E7%B4%A0"><span class="nav-number">2.1.5.</span> <span class="nav-text">加入刪除 元素</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#append"><span class="nav-number">2.1.5.1.</span> <span class="nav-text">.append()</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#appendChild"><span class="nav-number">2.1.5.2.</span> <span class="nav-text">.appendChild()</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#remove-%E7%9B%B4%E6%8E%A5%E7%A7%BB%E9%99%A4%E5%85%83%E4%BB%B6"><span class="nav-number">2.1.5.3.</span> <span class="nav-text">.remove() - 直接移除元件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Event"><span class="nav-number">2.2.</span> <span class="nav-text">Event</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#addEventListener"><span class="nav-number">2.2.1.</span> <span class="nav-text">addEventListener</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#click"><span class="nav-number">2.2.1.1.</span> <span class="nav-text">click</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#mousedown"><span class="nav-number">2.2.1.2.</span> <span class="nav-text">mousedown</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#mouseup"><span class="nav-number">2.2.1.3.</span> <span class="nav-text">mouseup</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#dbclick-%E7%9F%AD%E6%99%82%E9%96%93%E5%85%A7%E9%9B%99%E6%93%8A%E5%B7%A6%E9%8D%B5%E8%A7%B8%E7%99%BC"><span class="nav-number">2.2.1.4.</span> <span class="nav-text">dbclick - 短時間內雙擊左鍵觸發</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#contextmenu-%E6%BB%91%E9%BC%A0%E5%8F%B3%E9%8D%B5%E9%BB%9E%E6%93%8A%E8%A7%B8%E7%99%BC"><span class="nav-number">2.2.1.5.</span> <span class="nav-text">contextmenu - 滑鼠右鍵點擊觸發</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#mousemove-%E6%BB%91%E9%BC%A0%E7%A7%BB%E5%8B%95%E6%99%82%E8%A7%B8%E7%99%BC-%E8%A6%81%E7%94%A8%E5%88%B0%E6%99%82%E6%89%8D%E7%B6%81%E5%AE%9A%EF%BC%8C%E9%81%BF%E5%85%8D%E4%B8%8D%E6%96%B7%E8%A7%B8%E7%99%BC"><span class="nav-number">2.2.1.6.</span> <span class="nav-text">mousemove - 滑鼠移動時觸發(要用到時才綁定，避免不斷觸發)</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#mouseenter-%E6%BB%91%E9%BC%A0%E9%80%B2%E5%85%A5%E5%85%83%E7%B4%A0%E9%82%8A%E7%95%8C%E6%99%82%E8%A7%B8%E7%99%BC-%E4%B8%8D%E6%9C%83-bubble"><span class="nav-number">2.2.1.7.</span> <span class="nav-text">mouseenter - 滑鼠進入元素邊界時觸發(不會 bubble)</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#mouseleave-%E6%BB%91%E9%BC%A0%E5%AE%8C%E5%85%A8%E9%9B%A2%E9%96%8B%E5%85%83%E7%B4%A0%E6%99%82%E8%A7%B8%E7%99%BC-%E4%B8%8D%E6%9C%83-bubble"><span class="nav-number">2.2.1.8.</span> <span class="nav-text">mouseleave - 滑鼠完全離開元素時觸發(不會 bubble)</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#mouseover-%E6%BB%91%E9%BC%A0%E7%B6%93%E9%81%8E%E4%B8%8D%E5%90%8C%E5%85%83%E7%B4%A0%E6%99%82%E8%A7%B8%E7%99%BC"><span class="nav-number">2.2.1.9.</span> <span class="nav-text">mouseover - 滑鼠經過不同元素時觸發</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#mouseout-%E6%BB%91%E9%BC%A0%E9%9B%A2%E9%96%8B%E5%85%83%E7%B4%A0%E6%99%82%E8%A7%B8%E7%99%BC"><span class="nav-number">2.2.1.10.</span> <span class="nav-text">mouseout - 滑鼠離開元素時觸發</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#keypress"><span class="nav-number">2.2.1.11.</span> <span class="nav-text">keypress</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#keydown"><span class="nav-number">2.2.1.12.</span> <span class="nav-text">keydown</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#keyup"><span class="nav-number">2.2.1.13.</span> <span class="nav-text">keyup</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#submit-form-commit"><span class="nav-number">2.2.1.14.</span> <span class="nav-text">submit - form commit</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#DOMContentLoaded-DOM-load-complete"><span class="nav-number">2.2.1.15.</span> <span class="nav-text">DOMContentLoaded - DOM load complete</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%A1%A8%E5%96%AE%E8%99%95%E7%90%86"><span class="nav-number">2.2.2.</span> <span class="nav-text">表單處理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%98%BB%E6%AD%A2%E9%A0%90%E8%A8%AD%E8%A1%8C%E7%82%BA"><span class="nav-number">2.2.3.</span> <span class="nav-text">阻止預設行為</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%82%B3%E9%81%9E%E6%A9%9F%E5%88%B6"><span class="nav-number">2.2.4.</span> <span class="nav-text">事件傳遞機制</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%A9%B3%E7%B4%B0%E4%BA%8B%E4%BB%B6%E5%82%B3%E9%81%9E%E6%A9%9F%E5%88%B6%EF%BC%9A%E6%8D%95%E7%8D%B2%E8%88%87%E5%86%92%E6%B3%A1"><span class="nav-number">2.2.5.</span> <span class="nav-text">詳細事件傳遞機制：捕獲與冒泡</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%A5%E5%90%91%E4%B8%8A%E7%B4%9A%E5%9B%9E%E5%A0%B1%EF%BC%9AstopPropagation"><span class="nav-number">2.2.6.</span> <span class="nav-text">別向上級回報：stopPropagation()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A4%9A%E9%87%8D%E8%A7%B8%E7%99%BC%E8%88%87%E6%8A%91%E5%88%B6-%E4%BD%BF%E7%94%A8-stopImmediatePropagation"><span class="nav-number">2.2.7.</span> <span class="nav-text">多重觸發與抑制(使用 stopImmediatePropagation())</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%8C%AF%E8%AA%A4%E7%9A%84-event"><span class="nav-number">2.2.8.</span> <span class="nav-text">錯誤的 event</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#event-delegation-%E4%BB%A3%E7%90%86"><span class="nav-number">2.2.9.</span> <span class="nav-text">event delegation(代理)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#DOM-loaded"><span class="nav-number">2.2.10.</span> <span class="nav-text">DOM loaded</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Web-API"><span class="nav-number">3.</span> <span class="nav-text">Web API</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Element"><span class="nav-number">3.1.</span> <span class="nav-text">Element</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Attribute"><span class="nav-number">3.1.1.</span> <span class="nav-text">Attribute</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Input-checkbox-%E5%B1%AC%E6%80%A7"><span class="nav-number">3.1.2.</span> <span class="nav-text">Input checkbox 屬性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#parentElement-%E7%88%B6%E5%85%83%E7%B4%A0"><span class="nav-number">3.1.3.</span> <span class="nav-text">parentElement 父元素</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#click-%E6%A8%A1%E6%93%AC%E6%BB%91%E9%BC%A0%E9%BB%9E%E6%93%8A%E4%B8%80%E5%80%8B%E5%85%83%E7%B4%A0"><span class="nav-number">3.1.4.</span> <span class="nav-text">.click() 模擬滑鼠點擊一個元素</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Event-1"><span class="nav-number">3.2.</span> <span class="nav-text">Event</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#target-%E5%88%9D%E8%A7%B8%E7%99%BC%E4%BA%8B%E4%BB%B6%E7%9A%84%E7%89%A9%E4%BB%B6"><span class="nav-number">3.2.1.</span> <span class="nav-text">.target - 初觸發事件的物件</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#tag-name"><span class="nav-number">3.2.1.1.</span> <span class="nav-text">tag name</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#currentTarget-%E8%99%95%E7%90%86%E4%BA%8B%E4%BB%B6%E4%B9%8B%E7%9B%A3%E8%81%BD%E5%99%A8%E6%89%80%E5%B1%AC%E7%9A%84%E7%89%A9%E4%BB%B6"><span class="nav-number">3.2.2.</span> <span class="nav-text">.currentTarget - 處理事件之監聽器所屬的物件</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#XMLHttpRequest"><span class="nav-number">3.3.</span> <span class="nav-text">XMLHttpRequest</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#URLSearchParams-%E8%A7%A3%E6%9E%90%E7%B6%B2%E5%9D%80%E7%9A%84%E5%8F%83%E6%95%B8"><span class="nav-number">3.4.</span> <span class="nav-text">URLSearchParams 解析網址的參數</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#History-API"><span class="nav-number">3.5.</span> <span class="nav-text">History API</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fetch-and-promise"><span class="nav-number">3.6.</span> <span class="nav-text">fetch and promise</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#fetch-API"><span class="nav-number">3.6.1.</span> <span class="nav-text">fetch API</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#fetch-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85"><span class="nav-number">3.6.2.</span> <span class="nav-text">fetch 注意事項</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Promise"><span class="nav-number">3.6.3.</span> <span class="nav-text">Promise</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#Promise%E6%87%89%E7%94%A8-clipboard"><span class="nav-number">3.6.3.1.</span> <span class="nav-text">Promise應用 clipboard</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#Promise-example"><span class="nav-number">3.6.3.2.</span> <span class="nav-text">Promise example</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#async-and-await"><span class="nav-number">3.7.</span> <span class="nav-text">async and await</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#example"><span class="nav-number">3.7.1.</span> <span class="nav-text">example</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%80%8F%E8%A6%BD%E5%99%A8%E4%B8%8A%E5%84%B2%E5%AD%98%E8%B3%87%E6%96%99"><span class="nav-number">4.</span> <span class="nav-text">瀏覽器上儲存資料</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Cookie"><span class="nav-number">4.1.</span> <span class="nav-text">Cookie</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#local-storage"><span class="nav-number">4.2.</span> <span class="nav-text">local storage</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#simple-example"><span class="nav-number">4.2.1.</span> <span class="nav-text">simple example</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#save-job-list"><span class="nav-number">4.2.2.</span> <span class="nav-text">save job list</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#session-storage"><span class="nav-number">4.3.</span> <span class="nav-text">session storage</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%82%B3%E9%80%81%E8%B3%87%E6%96%99"><span class="nav-number">5.</span> <span class="nav-text">傳送資料</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%A8%E5%96%AE-from-%E2%80%93-gt-Browser-%E7%95%AB%E9%9D%A2%E6%9B%B4%E6%96%B0"><span class="nav-number">5.1.</span> <span class="nav-text">表單 from –&gt; Browser 畫面更新</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#AJAX-Asynchronous-JavaScript-and-XML-%E2%80%93-gt-%E8%B3%87%E6%96%99%E5%9B%9E%E5%82%B3%E8%87%B3-JavaScript"><span class="nav-number">5.2.</span> <span class="nav-text">AJAX(Asynchronous JavaScript and XML) –&gt; 資料回傳至 JavaScript</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#AJAX-google-%E7%80%8F%E8%A6%BD%E5%99%A8%E7%9A%84%E9%99%90%E5%88%B6-%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5-Same-origin-policy"><span class="nav-number">5.2.1.</span> <span class="nav-text">AJAX google - 瀏覽器的限制 同源策略(Same-origin policy)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#AJAX-fake-data-Access-Control-Allow-Origin"><span class="nav-number">5.2.2.</span> <span class="nav-text">AJAX fake data - Access-Control-Allow-Origin : *</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#AJAX-set-header"><span class="nav-number">5.2.3.</span> <span class="nav-text">AJAX set header</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JSONP-JSON-with-Padding-%E7%AC%AC%E4%B8%89%E7%A8%AE%E6%96%B9%E5%BC%8F%E8%B3%87%E6%96%99%E4%BA%A4%E6%8F%9B%E6%96%B9%E5%BC%8F"><span class="nav-number">5.3.</span> <span class="nav-text">JSONP(JSON with Padding) 第三種方式資料交換方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%96%AE%E5%90%91%E8%B3%87%E6%96%99%E5%82%B3%E9%80%81-email-%E6%88%96-%E5%BB%A3%E5%91%8A-%E8%BF%BD%E8%B9%A4"><span class="nav-number">5.4.</span> <span class="nav-text">單向資料傳送(email 或 廣告 追蹤)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Window"><span class="nav-number">6.</span> <span class="nav-text">Window</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#method"><span class="nav-number">6.1.</span> <span class="nav-text">method</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#alert"><span class="nav-number">6.1.1.</span> <span class="nav-text">alert()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#load-%E7%95%AB%E9%9D%A2"><span class="nav-number">6.1.2.</span> <span class="nav-text">load 畫面</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#window-load-complete"><span class="nav-number">6.1.3.</span> <span class="nav-text">window load complete</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Snippet-for-JavaScript"><span class="nav-number">7.</span> <span class="nav-text">Snippet for JavaScript</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#escape-HTML"><span class="nav-number">7.0.1.</span> <span class="nav-text">escape HTML</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Robert Kao"
      src="/images/head.png">
  <p class="site-author-name" itemprop="name">Robert Kao</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">73</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">40</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
        <div class="back-to-top animated" role="button">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://hot5656.github.io/2021/05/25/js-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.png">
      <meta itemprop="name" content="Robert Kao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Robert 雜記">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          瀏覽器的 JavaScript
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2021-05-25 09:36:25" itemprop="dateCreated datePublished" datetime="2021-05-25T09:36:25+08:00">2021-05-25</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新於</span>
        <time title="修改時間：2021-08-01 09:08:25" itemprop="dateModified" datetime="2021-08-01T09:08:25+08:00">2021-08-01</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Coding/" itemprop="url" rel="index"><span itemprop="name">Coding</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2021/05/25/js-2/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/05/25/js-2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>45k</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>41 分鐘</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h3 id="簡介"><a href="#簡介" class="headerlink" title="簡介"></a>簡介</h3><h4 id="名詞"><a href="#名詞" class="headerlink" title="名詞"></a>名詞</h4><ul>
<li>Client-side Render(CSR) : API get data 再由 JavaScript 渲染</li>
<li>Server-side Render(SSR) : 在 Server-side 就先渲染成 HTML</li>
<li> Search Engine Optimization(SEO) : 搜尋引擎最佳化,透過了解搜尋引擎的運作規則來調整網站，以及提高目的網站在有關搜尋引擎內排名的方式</li>
</ul>
<h4 id="JavaScript-的功能"><a href="#JavaScript-的功能" class="headerlink" title="JavaScript 的功能"></a>JavaScript 的功能</h4><ul>
<li>介面 : 改變介面</li>
<li>事件 : 監聽事件並做出反應</li>
<li>資料 : 與伺服器交換資料</li>
</ul>
<span id="more"></span>

<h4 id="執行"><a href="#執行" class="headerlink" title="執行"></a>執行</h4><h5 id="放於-body-最後"><a href="#放於-body-最後" class="headerlink" title="放於 body 最後"></a>放於 body 最後</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		.box &#123;</span><br><span class="line"><span class="css">			<span class="attribute">background</span>: orange;</span></span><br><span class="line"><span class="css">			<span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box&#x27;</span>).style.background = <span class="string">&#x27;red&#x27;</span></span></span><br><span class="line">		&#125;)</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="放於-head-最後-但要加入-DOM-loaded-因執行時-DOM-尚未-load-完成"><a href="#放於-head-最後-但要加入-DOM-loaded-因執行時-DOM-尚未-load-完成" class="headerlink" title="放於 head 最後, 但要加入 DOM loaded(因執行時 DOM 尚未 load 完成)"></a>放於 head 最後, 但要加入 DOM loaded(因執行時 DOM 尚未 load 完成)</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	......</span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="comment">// DOM loaded</span></span></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.addEventListener(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box&#x27;</span>)</span></span><br><span class="line"><span class="javascript">				.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box&#x27;</span>).style.background = <span class="string">&#x27;red&#x27;</span></span></span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;)</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="head-加入js-檔"><a href="#head-加入js-檔" class="headerlink" title="head 加入js 檔"></a>head 加入js 檔</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	......</span><br><span class="line">	<span class="comment">&lt;!-- add js file --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="comment">// DOM loaded</span></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box&#x27;</span>)</span><br><span class="line">		.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box&#x27;</span>).style.background = <span class="string">&#x27;red&#x27;</span></span><br><span class="line">	&#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-TW/docs/Web/API/Document_Object_Model">DOM</a></h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.w3schools.com/jsref/dom_obj_all.asp">DOM Element</a></li>
<li><a target="_blank" rel="noopener" href="https://www.w3schools.com/jsref/dom_obj_document.asp">DOM　Document</a></li>
<li><a target="_blank" rel="noopener" href="https://www.w3schools.com/jsref/dom_obj_attributes.asp">DOM Attributes</a></li>
</ul>
<p>文件物件模型（Document Object Model, DOM）是 HTML、XML 和 SVG 文件的程式介面。它提供了一個文件（樹）的結構化表示法，並定義讓程式可以存取並改變文件架構、風格和內容的方法。</p>
<div style="width:400px">
    <img src="/2021/05/25/js-2/pic1.png" class="" title="pic1">
</div>

<p>圖片來自 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Document_Object_Model">Wikipedia DOM</a></p>
<h4 id="DOM-API"><a href="#DOM-API" class="headerlink" title="DOM API"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-TW/docs/Web/API/Document">DOM API</a></h4><h5 id="選元素"><a href="#選元素" class="headerlink" title="選元素"></a>選元素</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		.box &#123;</span><br><span class="line"><span class="css">			<span class="attribute">background</span>: orange;</span></span><br><span class="line"><span class="css">			<span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;item1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="comment">// 依類別抓取,抓取多個 - HTMLCollection</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">const</span> elements = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		<span class="built_in">console</span>.log(elements)</span></span><br><span class="line"><span class="javascript">		<span class="built_in">console</span>.log(<span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;box&#x27;</span>))</span></span><br><span class="line"><span class="javascript">		<span class="built_in">console</span>.log(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;item1&#x27;</span>))</span></span><br><span class="line"><span class="javascript">		<span class="comment">// 依 selector 抓取,緊抓取第一個</span></span></span><br><span class="line"><span class="javascript">		<span class="built_in">console</span>.log(<span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>))</span></span><br><span class="line"><span class="javascript">		<span class="built_in">console</span>.log(<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box2&#x27;</span>))</span></span><br><span class="line"><span class="javascript">		<span class="built_in">console</span>.log(<span class="built_in">document</span>.querySelector(<span class="string">&#x27;#item1&#x27;</span>))</span></span><br><span class="line"><span class="javascript">		<span class="comment">// 依 selector 抓取,緊抓多個 - NodeList</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">const</span> elementsNode = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;div&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		<span class="built_in">console</span>.log(elementsNode)</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div style="width:500px">
    <img src="/2021/05/25/js-2/pic2.png" class="" title="pic2">
</div>

<h6 id="parentElement"><a href="#parentElement" class="headerlink" title=".parentElement"></a>.parentElement</h6><p>parentElement is the parent element of the current node.<br>若無父元素或非element則傳回 null </p>
<h6 id="parentNode"><a href="#parentNode" class="headerlink" title=".parentNode"></a>.parentNode</h6><p>parentNode is the parent of the current node. The parent of an element is an Element node, a Document node, or a DocumentFragment node.<br>若無父元素或非element則傳回 null</p>
<h5 id="改變-css"><a href="#改變-css" class="headerlink" title="改變 css"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-TW/docs/Web/API/ElementCSSInlineStyle/style">改變 css</a></h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		.box &#123;</span><br><span class="line"><span class="css">			<span class="attribute">background</span>: orange;</span></span><br><span class="line"><span class="css">			<span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;item1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span>111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box box2&quot;</span>&gt;</span>222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span>333<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">const</span> element = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box2&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		element.style.background = <span class="string">&quot;red&quot;</span></span></span><br><span class="line"><span class="javascript">		element.style.margin = <span class="string">&quot;10px&quot;</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 元件使用類陣列是輸入</span></span></span><br><span class="line"><span class="javascript">		element.style[<span class="string">&#x27;padding-top&#x27;</span>] = <span class="string">&#x27;10px&#x27;</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 命名改為駝峰式</span></span></span><br><span class="line"><span class="javascript">		element.style.paddingBottom = <span class="string">&#x27;20px&#x27;</span></span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="改變-class"><a href="#改變-class" class="headerlink" title="改變 class"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-TW/docs/Web/API/Element/classList">改變 class</a></h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		.box &#123;</span><br><span class="line"><span class="css">			<span class="attribute">background</span>: orange;</span></span><br><span class="line"><span class="css">			<span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line">		&#125;</span><br><span class="line">		.active &#123;</span><br><span class="line"><span class="css">			<span class="attribute">background</span>: red;</span></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;item1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span>111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box box2 active&quot;</span>&gt;</span>222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box box3&quot;</span>&gt;</span>333<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;#item1&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="comment">// toggle class</span></span></span><br><span class="line"><span class="javascript">				<span class="built_in">document</span>.querySelector(<span class="string">&#x27;#item1&#x27;</span>).classList.toggle(<span class="string">&#x27;active&#x27;</span>)</span></span><br><span class="line">		&#125;) </span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box2&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="comment">// remove class</span></span></span><br><span class="line"><span class="javascript">				<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box2&#x27;</span>).classList.remove(<span class="string">&#x27;active&#x27;</span>)</span></span><br><span class="line">		&#125;) </span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box3&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="comment">// add class</span></span></span><br><span class="line"><span class="javascript">				<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box3&#x27;</span>).classList.add(<span class="string">&#x27;active&#x27;</span>)</span></span><br><span class="line">		&#125;) </span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h6 id="check-是否包含某class"><a href="#check-是否包含某class" class="headerlink" title="check 是否包含某class"></a>check 是否包含某class</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(div.classList.contains(<span class="string">&quot;foo&quot;</span>));</span><br></pre></td></tr></table></figure>


<h5 id="改變內容-innerText-innerHTML-outerHTML"><a href="#改變內容-innerText-innerHTML-outerHTML" class="headerlink" title="改變內容 innerText, innerHTML, outerHTML"></a>改變內容 innerText, innerHTML, outerHTML</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		.box &#123;</span><br><span class="line"><span class="css">			<span class="attribute">background</span>: orange;</span></span><br><span class="line"><span class="css">			<span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">font-size</span>: <span class="number">36px</span>;</span></span><br><span class="line"><span class="css">			<span class="comment">/* height: 100px; */</span></span></span><br><span class="line">		&#125;</span><br><span class="line">		.active &#123;</span><br><span class="line"><span class="css">			<span class="attribute">background</span>: red;</span></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;item1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">		111</span><br><span class="line">		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box box2 active&quot;</span>&gt;</span></span><br><span class="line">		222</span><br><span class="line">		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box box3&quot;</span>&gt;</span></span><br><span class="line">		333</span><br><span class="line">		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;#item1&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				element = 	<span class="built_in">document</span>.querySelector(<span class="string">&#x27;#item1&#x27;</span>)</span></span><br><span class="line"><span class="javascript">				<span class="comment">// 內部之文字</span></span></span><br><span class="line"><span class="javascript">				<span class="built_in">console</span>.log(element.innerText)</span></span><br><span class="line"><span class="javascript">				element.innerText = <span class="string">&#x27;innerText&#x27;</span></span></span><br><span class="line">		&#125;) </span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box2&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="comment">// 內部之所有內容, 含 Tag</span></span></span><br><span class="line"><span class="javascript">				element = 	<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box2&#x27;</span>)</span></span><br><span class="line"><span class="javascript">				<span class="built_in">console</span>.log(element.innerHTML)</span></span><br><span class="line"><span class="javascript">				element.innerText = <span class="string">&#x27;innerHTML&#x27;</span></span></span><br><span class="line">		&#125;) </span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box3&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				element = 	<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box3&#x27;</span>)</span></span><br><span class="line"><span class="javascript">				<span class="comment">// 外部之父元素</span></span></span><br><span class="line"><span class="javascript">				<span class="built_in">console</span>.log(element.outerHTML)</span></span><br><span class="line"><span class="javascript">				element.outerHTML = <span class="string">&#x27;outerHTML&#x27;</span></span></span><br><span class="line">		&#125;) </span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// use innerHTML</span><br><span class="line">sendAjaxhApi(&#x27;http://localhost/robert/comment/api_get_comment.php&#x27;, function(response)&#123;</span><br><span class="line">	const comments = JSON.parse(response)</span><br><span class="line">	console.log(comments.comment[0])</span><br><span class="line">	let section = document.querySelector(&#x27;section&#x27;)</span><br><span class="line">	for(let i=0 ; i &lt; comments.comment.length ; i++ ) &#123;</span><br><span class="line">		let card = document.createElement(&#x27;div&#x27;)</span><br><span class="line">		card.classList.add(&#x27;card&#x27;)</span><br><span class="line">		card.innerHTML = `</span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-avatar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-info&quot;</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-title&quot;</span>&gt;</span> </span><br><span class="line">					<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;card-user&quot;</span>&gt;</span>$&#123;comments.comment[i].nickname&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;card-time&quot;</span>&gt;</span>$&#123;comments.comment[i].create_at&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card-content&quot;</span>&gt;</span></span><br><span class="line">					$&#123;comments.comment[i].content&#125;</span><br><span class="line">				<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		`</span><br><span class="line">		section.appendChild(card)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="加入刪除-元素"><a href="#加入刪除-元素" class="headerlink" title="加入刪除 元素"></a>加入刪除 元素</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		.box &#123;</span><br><span class="line"><span class="css">			<span class="attribute">background</span>: orange;</span></span><br><span class="line"><span class="css">			<span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">font-size</span>: <span class="number">36px</span>;</span></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">		111</span><br><span class="line">		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		element = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		<span class="comment">// remove tag a</span></span></span><br><span class="line"><span class="javascript">		element.removeChild(<span class="built_in">document</span>.querySelector(<span class="string">&#x27;a&#x27;</span>))</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="comment">// create element and content</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">const</span> item = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		item.innerText = <span class="string">&#x27;123&#x27;</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// add tag div</span></span></span><br><span class="line">		element.appendChild(item)</span><br><span class="line">		</span><br><span class="line"><span class="javascript">		<span class="comment">// create text</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">const</span> itemText = <span class="built_in">document</span>.createTextNode(<span class="string">&quot;999&quot;</span>)</span></span><br><span class="line"><span class="javascript">		<span class="comment">// add test</span></span></span><br><span class="line">		element.appendChild(itemText)</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="append"><a href="#append" class="headerlink" title=".append()"></a>.append()</h6><p>加入Node物件或DOMString(文字)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 加入Node物件 */</span></span><br><span class="line"><span class="keyword">const</span> parent = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> child = <span class="built_in">document</span>.createElement(<span class="string">&#x27;p&#x27;</span>)</span><br><span class="line">parent.append(child)  <span class="comment">// 然後div看起來像這樣&lt;div&gt; &lt;p&gt; &lt;/ p&gt; &lt;/ div&gt;</span></span><br><span class="line"><span class="comment">/* 加入DOMString(文字) */</span></span><br><span class="line"><span class="keyword">const</span> parent = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">parent.append(<span class="string">&#x27;附加文字&#x27;</span>) <span class="comment">// 然後div看起來像這樣 &lt;div&gt;附加文字&lt;/ div&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="appendChild"><a href="#appendChild" class="headerlink" title=".appendChild()"></a>.appendChild()</h6><p>僅能加入Node物件, 不能加入DOMString(文字)<br>若加入的物件已存在,則會移動到此</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 加入Node物件 */</span></span><br><span class="line"><span class="keyword">const</span> parent = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> child = <span class="built_in">document</span>.createElement(<span class="string">&#x27;p&#x27;</span>)</span><br><span class="line">parent.appendChild(child) <span class="comment">// 然後div看起來像這樣 &lt;div&gt; &lt;p&gt; &lt;/ p&gt; &lt;/ div&gt;</span></span><br><span class="line"><span class="comment">/* 加入DOMString(文字) */</span></span><br><span class="line"><span class="keyword">const</span> parent = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">parent.appendChild(<span class="string">&#x27;Appending Text&#x27;</span>) <span class="comment">// Uncaught TypeError: Failed to execute &#x27;appendChild&#x27; on &#x27;Node&#x27;: parameter 1 is not of type &#x27;Node&#x27;</span></span><br></pre></td></tr></table></figure>

<h6 id="remove-直接移除元件"><a href="#remove-直接移除元件" class="headerlink" title=".remove() - 直接移除元件"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/Element/remove">.remove()</a> - 直接移除元件</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> el = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;div-02&#x27;</span>);</span><br><span class="line">el.remove(); <span class="comment">// Removes the div with the &#x27;div-02&#x27; id</span></span><br></pre></td></tr></table></figure>


<h4 id="Event"><a href="#Event" class="headerlink" title="Event"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener">Event</a></h4><ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/Element#clipboard_events">Element Events</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/Document#events">Document Events</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/Window#events">Windown Events</a></li>
</ul>
<h5 id="addEventListener"><a href="#addEventListener" class="headerlink" title="addEventListener"></a>addEventListener</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		.box1 &#123;</span><br><span class="line"><span class="css">			<span class="attribute">background</span>: orange;</span></span><br><span class="line"><span class="css">			<span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">font-size</span>: <span class="number">36px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span>;</span></span><br><span class="line">		&#125;</span><br><span class="line">		.box2 &#123;</span><br><span class="line"><span class="css">			<span class="attribute">background</span>: orange;</span></span><br><span class="line"><span class="css">			<span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">font-size</span>: <span class="number">36px</span>;</span></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span></span><br><span class="line">		111</span><br><span class="line">		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span></span><br><span class="line">		222</span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;input-text&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">const</span> element = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box1&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		<span class="comment">// callback function</span></span></span><br><span class="line"><span class="javascript">		element.addEventListener(<span class="string">&#x27;click&#x27;</span>, handleBox1);</span></span><br><span class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span> <span class="title">handleBox1</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			alert(<span class="string">&#x27;Box1&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			<span class="comment">// e.target 表 trigger event 的 element </span></span></span><br><span class="line"><span class="javascript">			<span class="built_in">console</span>.log(e.target)</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box2&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 匿名函數(Anonymous function)</span></span></span><br><span class="line"><span class="javascript">			.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				alert(<span class="string">&#x27;Box2&#x27;</span>)</span></span><br><span class="line">			&#125;)</span><br><span class="line"></span><br><span class="line"><span class="javascript">			<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.input-text&#x27;</span>)</span></span><br><span class="line"><span class="javascript">				.addEventListener(<span class="string">&#x27;keypress&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					<span class="built_in">console</span>.log(e)</span></span><br><span class="line"><span class="javascript">					<span class="comment">// e.key:字元, e.keyCode:編碼, e.code:字串表示</span></span></span><br><span class="line"><span class="javascript">					<span class="built_in">console</span>.log(e.key, e.keyCode, e.code)</span></span><br><span class="line">				&#125;)</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="click"><a href="#click" class="headerlink" title="click"></a>click</h6><h6 id="mousedown"><a href="#mousedown" class="headerlink" title="mousedown"></a>mousedown</h6><h6 id="mouseup"><a href="#mouseup" class="headerlink" title="mouseup"></a>mouseup</h6><h6 id="dbclick-短時間內雙擊左鍵觸發"><a href="#dbclick-短時間內雙擊左鍵觸發" class="headerlink" title="dbclick - 短時間內雙擊左鍵觸發"></a>dbclick - 短時間內雙擊左鍵觸發</h6><h6 id="contextmenu-滑鼠右鍵點擊觸發"><a href="#contextmenu-滑鼠右鍵點擊觸發" class="headerlink" title="contextmenu - 滑鼠右鍵點擊觸發"></a>contextmenu - 滑鼠右鍵點擊觸發</h6><h6 id="mousemove-滑鼠移動時觸發-要用到時才綁定，避免不斷觸發"><a href="#mousemove-滑鼠移動時觸發-要用到時才綁定，避免不斷觸發" class="headerlink" title="mousemove - 滑鼠移動時觸發(要用到時才綁定，避免不斷觸發)"></a>mousemove - 滑鼠移動時觸發(要用到時才綁定，避免不斷觸發)</h6><h6 id="mouseenter-滑鼠進入元素邊界時觸發-不會-bubble"><a href="#mouseenter-滑鼠進入元素邊界時觸發-不會-bubble" class="headerlink" title="mouseenter - 滑鼠進入元素邊界時觸發(不會 bubble)"></a>mouseenter - 滑鼠進入元素邊界時觸發(不會 bubble)</h6><h6 id="mouseleave-滑鼠完全離開元素時觸發-不會-bubble"><a href="#mouseleave-滑鼠完全離開元素時觸發-不會-bubble" class="headerlink" title="mouseleave - 滑鼠完全離開元素時觸發(不會 bubble)"></a>mouseleave - 滑鼠完全離開元素時觸發(不會 bubble)</h6><h6 id="mouseover-滑鼠經過不同元素時觸發"><a href="#mouseover-滑鼠經過不同元素時觸發" class="headerlink" title="mouseover - 滑鼠經過不同元素時觸發"></a>mouseover - 滑鼠經過不同元素時觸發</h6><h6 id="mouseout-滑鼠離開元素時觸發"><a href="#mouseout-滑鼠離開元素時觸發" class="headerlink" title="mouseout - 滑鼠離開元素時觸發"></a>mouseout - 滑鼠離開元素時觸發</h6><h6 id="keypress"><a href="#keypress" class="headerlink" title="keypress"></a>keypress</h6><ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code/code_values">e.code</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* e.key : 字元</span><br><span class="line">	 e.keyCode : 編碼 ascii code</span><br><span class="line">	 e.code : 字串表示 &quot;KeyQ&quot; for the Q</span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure>
<h6 id="keydown"><a href="#keydown" class="headerlink" title="keydown"></a>keydown</h6><h6 id="keyup"><a href="#keyup" class="headerlink" title="keyup"></a>keyup</h6><h6 id="submit-form-commit"><a href="#submit-form-commit" class="headerlink" title="submit - form commit"></a>submit - form commit</h6><h6 id="DOMContentLoaded-DOM-load-complete"><a href="#DOMContentLoaded-DOM-load-complete" class="headerlink" title="DOMContentLoaded - DOM load complete"></a>DOMContentLoaded - DOM load complete</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// DOM loaded</span></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	......</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h5 id="表單處理"><a href="#表單處理" class="headerlink" title="表單處理"></a>表單處理</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">		<span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">			<span class="attribute">font-size</span>: <span class="number">24px</span>;</span></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">&quot;login-form&quot;</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">			name : <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">			password : <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">				password again : <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password2&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;送出&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.login-form&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			.addEventListener(<span class="string">&#x27;submit&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">const</span> input1 = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;input[name=password]&#x27;</span>)</span></span><br><span class="line"><span class="javascript">				<span class="keyword">const</span> input2 = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;input[name=password2]&#x27;</span>)</span></span><br><span class="line"><span class="javascript">				<span class="comment">// .value 取出值</span></span></span><br><span class="line"><span class="javascript">				<span class="built_in">console</span>.log(input1.value, input2.value)</span></span><br><span class="line"><span class="javascript">				<span class="comment">// 比較密碼</span></span></span><br><span class="line">				if (input1.value != input2.value) &#123;</span><br><span class="line"><span class="javascript">					<span class="comment">// 阻止預設功能(不送出表單)</span></span></span><br><span class="line">					e.preventDefault()</span><br><span class="line"><span class="javascript">					alert(<span class="string">&#x27;密碼不同&#x27;</span>)</span></span><br><span class="line">				&#125;</span><br><span class="line">		&#125;)</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="阻止預設行為"><a href="#阻止預設行為" class="headerlink" title="阻止預設行為"></a>阻止預設行為</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">		<span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">			<span class="attribute">font-size</span>: <span class="number">24px</span>;</span></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">		111</span><br><span class="line">		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;a&#x27;</span>).addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 阻止預設行為</span></span></span><br><span class="line">			e.preventDefault();</span><br><span class="line">		&#125;)</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="事件傳遞機制"><a href="#事件傳遞機制" class="headerlink" title="事件傳遞機制"></a>事件傳遞機制</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		.outer &#123;</span><br><span class="line"><span class="css">			<span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">background</span>: yellow;</span></span><br><span class="line">		&#125;</span><br><span class="line">		.inner &#123;</span><br><span class="line"><span class="css">			<span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">background</span>: orange;</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span>&gt;</span>Click<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		addEvent(<span class="string">&#x27;.outer&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		addEvent(<span class="string">&#x27;.inner&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		addEvent(<span class="string">&#x27;.button&#x27;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span> <span class="title">addEvent</span>(<span class="params">className</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="built_in">document</span>.querySelector(className)</span></span><br><span class="line"><span class="javascript">				.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					<span class="built_in">console</span>.log(className)</span></span><br><span class="line">			&#125;)</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div style="width:400px">
    <img src="/2021/05/25/js-2/pic4.png" class="" title="pic4">
</div>



<h5 id="詳細事件傳遞機制：捕獲與冒泡"><a href="#詳細事件傳遞機制：捕獲與冒泡" class="headerlink" title="詳細事件傳遞機制：捕獲與冒泡"></a>詳細事件傳遞機制：捕獲與冒泡</h5><div style="width:700px">
    <img src="/2021/05/25/js-2/pic3.png" class="" title="pic3">
</div>

<p>圖片來自 <a target="_blank" rel="noopener" href="https://www.w3.org/TR/DOM-Level-3-Events/#event-flow">W3C</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		.outer &#123;</span><br><span class="line"><span class="css">			<span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">background</span>: yellow;</span></span><br><span class="line">		&#125;</span><br><span class="line">		.inner &#123;</span><br><span class="line"><span class="css">			<span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">background</span>: orange;</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span>&gt;</span>Click<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		addEvent(<span class="string">&#x27;.button&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		addEvent(<span class="string">&#x27;.inner&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		addEvent(<span class="string">&#x27;.outer&#x27;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span> <span class="title">addEvent</span>(<span class="params">className</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 第三個參數設為 true, 表示捕獲 </span></span></span><br><span class="line"><span class="javascript">			<span class="built_in">document</span>.querySelector(className)</span></span><br><span class="line"><span class="javascript">				.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					<span class="built_in">console</span>.log(className, <span class="string">&#x27;捕獲&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			&#125;, <span class="literal">true</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">			<span class="comment">// 第三個參數設為 false, 表示冒泡</span></span></span><br><span class="line"><span class="javascript">			<span class="built_in">document</span>.querySelector(className)</span></span><br><span class="line"><span class="javascript">				.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					<span class="built_in">console</span>.log(className, <span class="string">&#x27;冒泡&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			&#125;, <span class="literal">false</span>)</span></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div style="width:400px">
    <img src="/2021/05/25/js-2/pic5.png" class="" title="pic5">
</div>

<h5 id="別向上級回報：stopPropagation"><a href="#別向上級回報：stopPropagation" class="headerlink" title="別向上級回報：stopPropagation()"></a>別向上級回報：stopPropagation()</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		.outer &#123;</span><br><span class="line"><span class="css">			<span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">background</span>: yellow;</span></span><br><span class="line">		&#125;</span><br><span class="line">		.inner &#123;</span><br><span class="line"><span class="css">			<span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">			<span class="attribute">background</span>: orange;</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span>&gt;</span>Click<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		addEvent(<span class="string">&#x27;.button&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		addEvent(<span class="string">&#x27;.inner&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		addEvent(<span class="string">&#x27;.outer&#x27;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span> <span class="title">addEvent</span>(<span class="params">className</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 第三個參數設為 true, 表示捕獲 </span></span></span><br><span class="line"><span class="javascript">			<span class="built_in">document</span>.querySelector(className)</span></span><br><span class="line"><span class="javascript">				.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					<span class="built_in">console</span>.log(className, <span class="string">&#x27;捕獲&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			&#125;, <span class="literal">true</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">			<span class="comment">// 第三個參數設為 false, 表示冒泡</span></span></span><br><span class="line"><span class="javascript">			<span class="built_in">document</span>.querySelector(className)</span></span><br><span class="line"><span class="javascript">				.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					<span class="comment">// .button stopPropagation</span></span></span><br><span class="line"><span class="javascript">					<span class="keyword">if</span> (className === <span class="string">&#x27;.button&#x27;</span>) &#123;</span></span><br><span class="line">						e.stopPropagation()</span><br><span class="line">					&#125;</span><br><span class="line"><span class="javascript">					<span class="built_in">console</span>.log(className, <span class="string">&#x27;冒泡&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			&#125;, <span class="literal">false</span>)</span></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div style="width:400px">
    <img src="/2021/05/25/js-2/pic6.png" class="" title="pic6">
</div>

<h5 id="多重觸發與抑制-使用-stopImmediatePropagation"><a href="#多重觸發與抑制-使用-stopImmediatePropagation" class="headerlink" title="多重觸發與抑制(使用 stopImmediatePropagation())"></a>多重觸發與抑制(使用 stopImmediatePropagation())</h5><p><strong>多重觸發</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">	<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.button&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="built_in">console</span>.log(<span class="string">&quot;button click 1&quot;</span>)</span></span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line"><span class="javascript">	<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.button&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="built_in">console</span>.log(<span class="string">&quot;button click 2&quot;</span>)</span></span><br><span class="line">	&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div style="width:400px">
    <img src="/2021/05/25/js-2/pic7.png" class="" title="pic7">
</div>

<p><strong>抑制後觸發</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">	<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.button&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="comment">// 要抑制另一個 stopPropagation() 無效, 要用 stopImmediatePropagation()</span></span></span><br><span class="line"><span class="javascript">			<span class="comment">// e.stopPropagation()</span></span></span><br><span class="line">			e.stopImmediatePropagation()</span><br><span class="line"><span class="javascript">			<span class="built_in">console</span>.log(<span class="string">&quot;button click 1&quot;</span>)</span></span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line"><span class="javascript">	<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.button&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="built_in">console</span>.log(<span class="string">&quot;button click 2&quot;</span>)</span></span><br><span class="line">	&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br></pre></td></tr></table></figure>

<div style="width:400px">
    <img src="/2021/05/25/js-2/pic8.png" class="" title="pic8">
</div>

<h5 id="錯誤的-event"><a href="#錯誤的-event" class="headerlink" title="錯誤的 event"></a>錯誤的 event</h5><p><strong>for 使用 var 為錯誤, let 即正確</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		.btn &#123;</span><br><span class="line"><span class="css">			<span class="attribute">font-size</span>: <span class="number">24px</span>;</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>4<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">const</span> elements = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;.btn&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		<span class="comment">// 若使用 var 就不正常 --&gt; alart always 6</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// let 就正常	--&gt; alart 1~5</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// for (var i=0 ; i&lt; elements.length ; i++) &#123;</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span> ; i&lt; elements.length ; i++) &#123;</span></span><br><span class="line"><span class="javascript">			elements[i].addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line">				alert(i+1)</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>使用 html data-xx attribute</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		.btn &#123;</span><br><span class="line"><span class="css">			<span class="attribute">font-size</span>: <span class="number">24px</span>;</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">data-value</span>=<span class="string">&quot;a&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">data-value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">data-value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">data-value</span>=<span class="string">&quot;4&quot;</span>&gt;</span>4<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">data-value</span>=<span class="string">&quot;5&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">const</span> elements = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;.btn&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		<span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span> ; i&lt; elements.length ; i++) &#123;</span></span><br><span class="line"><span class="javascript">			elements[i].addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				alert(e.target.getAttribute(<span class="string">&#x27;data-value&#x27;</span>))</span></span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>add new button</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		.add-btn, .btn &#123;</span><br><span class="line"><span class="css">			<span class="attribute">font-size</span>: <span class="number">24px</span>;</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;add-btn&quot;</span>&gt;</span>add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">data-value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">data-value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">let</span> num = <span class="number">3</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">const</span> elements = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;.btn&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		<span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span> ; i&lt; elements.length ; i++) &#123;</span></span><br><span class="line"><span class="javascript">			elements[i].addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				alert(e.target.getAttribute(<span class="string">&#x27;data-value&#x27;</span>))</span></span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;</span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.add-btn&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">const</span> btn = <span class="built_in">document</span>.createElement(<span class="string">&#x27;button&#x27;</span>)</span></span><br><span class="line"><span class="javascript">				btn.classList.add(<span class="string">&#x27;btn&#x27;</span>)</span></span><br><span class="line"><span class="javascript">				btn.setAttribute(<span class="string">&#x27;data-value&#x27;</span>, num)</span></span><br><span class="line">				btn.innerText = num++</span><br><span class="line"><span class="javascript">				<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.outer&#x27;</span>).appendChild(btn)</span></span><br><span class="line">		&#125;)</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="event-delegation-代理"><a href="#event-delegation-代理" class="headerlink" title="event delegation(代理)"></a>event delegation(代理)</h5><p>事件代理（Event Delegation），又稱之為事件委託</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		.add-btn, .btn &#123;</span><br><span class="line"><span class="css">			<span class="attribute">font-size</span>: <span class="number">24px</span>;</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;add-btn&quot;</span>&gt;</span>add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">data-value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">data-value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">let</span> num = <span class="number">3</span></span></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.add-btn&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">const</span> btn = <span class="built_in">document</span>.createElement(<span class="string">&#x27;button&#x27;</span>)</span></span><br><span class="line"><span class="javascript">				btn.classList.add(<span class="string">&#x27;btn&#x27;</span>)</span></span><br><span class="line"><span class="javascript">				btn.setAttribute(<span class="string">&#x27;data-value&#x27;</span>, num)</span></span><br><span class="line">				btn.innerText = num++</span><br><span class="line"><span class="javascript">				<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.outer&#x27;</span>).appendChild(btn)</span></span><br><span class="line">		&#125;)</span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.outer&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">if</span> (e.target.classList.contains(<span class="string">&#x27;btn&#x27;</span>)) &#123;</span></span><br><span class="line"><span class="javascript">					alert(e.target.getAttribute(<span class="string">&#x27;data-value&#x27;</span>))</span></span><br><span class="line">				&#125;</span><br><span class="line">		&#125;)</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		.item &#123;</span><br><span class="line"><span class="css">			<span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span></span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;id1&quot;</span>&gt;</span>item1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>item2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>item3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">let</span> element = e.target</span></span><br><span class="line"><span class="javascript">			<span class="keyword">if</span> (element.classList.contains(<span class="string">&#x27;item&#x27;</span>)) &#123;</span></span><br><span class="line"><span class="javascript">				<span class="built_in">console</span>.log(element.innerText)</span></span><br><span class="line">			&#125;</span><br><span class="line"><span class="javascript">			<span class="comment">// 判斷 tag</span></span></span><br><span class="line"><span class="javascript">			<span class="comment">// if(element.nodeName.toLowerCase === &quot;li&quot;)</span></span></span><br><span class="line"><span class="javascript">			<span class="comment">// 判斷 id</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">if</span>(element.id === <span class="string">&quot;id1&quot;</span>) &#123;</span></span><br><span class="line"><span class="javascript">				<span class="built_in">console</span>.log(element.id)</span></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;)</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="DOM-loaded"><a href="#DOM-loaded" class="headerlink" title="DOM loaded"></a>DOM loaded</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// DOM loaded</span></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	......</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Web-API"><a href="#Web-API" class="headerlink" title="Web API"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-TW/docs/Web/API">Web API</a></h3><h4 id="Element"><a href="#Element" class="headerlink" title="Element"></a>Element</h4><h5 id="Attribute"><a href="#Attribute" class="headerlink" title="Attribute"></a>Attribute</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// get attribute </span></span><br><span class="line"><span class="comment">// var attribute = element.getAttribute(attributeName);</span></span><br><span class="line"><span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">&quot;div1&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> align = div1.getAttribute(<span class="string">&quot;align&quot;</span>);</span><br><span class="line"><span class="comment">// set attibute</span></span><br><span class="line"><span class="comment">// Element.setAttribute(name, value)</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="built_in">document</span>.querySelector(<span class="string">&quot;button&quot;</span>);</span><br><span class="line">b.setAttribute(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;helloButton&quot;</span>);</span><br><span class="line">b.setAttribute(<span class="string">&quot;disabled&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br></pre></td></tr></table></figure>

<h5 id="Input-checkbox-屬性"><a href="#Input-checkbox-屬性" class="headerlink" title="Input checkbox 屬性"></a><a target="_blank" rel="noopener" href="https://www.w3school.com.cn/jsref/dom_obj_checkbox.asp">Input checkbox 屬性</a></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 被選到</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;check1&quot;</span>).checked=<span class="literal">true</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">document</span>.getElementById(<span class="string">&quot;check1&quot;</span>).checked)&#123;</span><br><span class="line">	consloe.log(<span class="string">&#x27;It&#x27;</span>s selected.)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="parentElement-父元素"><a href="#parentElement-父元素" class="headerlink" title="parentElement 父元素"></a>parentElement 父元素</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="built_in">document</span>.getElementById(<span class="string">&quot;myLI&quot;</span>).parentElement</span><br></pre></td></tr></table></figure>

<h5 id="click-模擬滑鼠點擊一個元素"><a href="#click-模擬滑鼠點擊一個元素" class="headerlink" title=".click() 模擬滑鼠點擊一個元素"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-TW/docs/Web/API/HTMLElement/click">.click()</a> 模擬滑鼠點擊一個元素</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// click 1st nav link</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">&#x27;.navbar a&#x27;</span>).click()</span><br></pre></td></tr></table></figure>

<h4 id="Event-1"><a href="#Event-1" class="headerlink" title="Event"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-TW/docs/Web/API/Event">Event</a></h4><h5 id="target-初觸發事件的物件"><a href="#target-初觸發事件的物件" class="headerlink" title=".target - 初觸發事件的物件"></a>.target - 初觸發事件的物件</h5><h6 id="tag-name"><a href="#tag-name" class="headerlink" title="tag name"></a>tag name</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box&#x27;</span>)</span><br><span class="line">	.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">		<span class="comment">// dump tag name</span></span><br><span class="line">		<span class="built_in">console</span>.log(e.target.tagName.toLowerCase())</span><br><span class="line">	&#125;) <span class="comment">// div , ul or li</span></span><br></pre></td></tr></table></figure>

<h5 id="currentTarget-處理事件之監聽器所屬的物件"><a href="#currentTarget-處理事件之監聽器所屬的物件" class="headerlink" title=".currentTarget - 處理事件之監聽器所屬的物件"></a>.currentTarget - 處理事件之監聽器所屬的物件</h5><h4 id="XMLHttpRequest"><a href="#XMLHttpRequest" class="headerlink" title="XMLHttpRequest"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-TW/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest">XMLHttpRequest</a></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> request = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line"><span class="comment">// loaded function</span></span><br><span class="line">request.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (request.status &gt;= <span class="number">200</span> &amp;&amp; request.status &lt; <span class="number">400</span>) &#123;</span><br><span class="line">		<span class="built_in">console</span>.log(request.responseText)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">&#x27;response error :&#x27;</span>, request.status)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// error </span></span><br><span class="line">request.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;error&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// true 表非同步</span></span><br><span class="line">request.open(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;https://google.com&#x27;</span>, <span class="literal">true</span>)</span><br><span class="line">request.send()</span><br></pre></td></tr></table></figure>

<h4 id="URLSearchParams-解析網址的參數"><a href="#URLSearchParams-解析網址的參數" class="headerlink" title="URLSearchParams 解析網址的參數"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams">URLSearchParams 解析網址的參數</a></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// http://localhost/robert/todo_list_bs4/?id=22</span></span><br><span class="line"><span class="keyword">let</span> searchParams = <span class="keyword">new</span> URLSearchParams(<span class="built_in">window</span>.location.search);</span><br><span class="line"><span class="keyword">let</span> id = searchParams.get(<span class="string">&#x27;id&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="History-API"><a href="#History-API" class="headerlink" title="History API"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-TW/docs/Web/API/History_API">History API</a></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 歷史紀錄中往上一步移動</span></span><br><span class="line"><span class="built_in">window</span>.history.back();</span><br><span class="line"><span class="comment">// 往下一步移動</span></span><br><span class="line"><span class="built_in">window</span>.history.forward();</span><br><span class="line"><span class="comment">// 移動到特定的歷史紀錄-往前一頁</span></span><br><span class="line"><span class="built_in">window</span>.history.go(-<span class="number">1</span>);</span><br><span class="line"><span class="comment">// 往後一頁</span></span><br><span class="line"><span class="built_in">window</span>.history.go(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// 更改網址 - 不更新內容</span></span><br><span class="line">history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="string">&#x27;/hello&#x27;</span>)</span><br><span class="line"></span><br><span class="line">pushState() <span class="comment">// 更改網址,但不會讓瀏覽器去載入</span></span><br><span class="line">replaceState() <span class="comment">// 修改目前的歷史紀錄而不是創造一個新的</span></span><br><span class="line">popstate 事件 <span class="comment">// popstate 事件的 state 屬性會含有一個歷史紀錄的 state object 的副本。</span></span><br></pre></td></tr></table></figure>

<h4 id="fetch-and-promise"><a href="#fetch-and-promise" class="headerlink" title="fetch and promise"></a>fetch and promise</h4><h5 id="fetch-API"><a href="#fetch-API" class="headerlink" title="fetch API"></a>fetch API</h5><p>Fetch API 提供了一個能獲取包含跨網路資源在的資源介面,它有點像我們所熟悉的 XMLHttpRequest,回傳為 Promise 的物件</p>
<p>fetch example </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// simple run fetch</span></span><br><span class="line"><span class="keyword">const</span> result =  fetch(<span class="string">&#x27;https://run.mocky.io/v3/d2268e25-bfa4-4e70-a505-b5faf61f7047&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// response Promise</span></span><br><span class="line"><span class="comment">// --&gt; Promise &#123;&lt;pending&gt;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// fetch().then() 將 promise 內容傳至function </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printResult</span>(<span class="params">resp</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(resp)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ------------</span></span><br><span class="line"><span class="keyword">const</span> result =  fetch(<span class="string">&#x27;https://run.mocky.io/v3/d2268e25-bfa4-4e70-a505-b5faf61f7047&#x27;</span>)</span><br><span class="line">result.then(printResult)</span><br><span class="line"><span class="comment">// --&gt; Response &#123;type: &quot;cors&quot;, url: &quot;https://run.mocky.io/v3/d2268e25-bfa4-4e70-a505-b5faf61f7047&quot;,</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// response status</span></span><br><span class="line">api500 = <span class="string">&quot;https://run.mocky.io/v3/db4c7417-2cf8-473e-9f05-f16ec2cfe725&quot;</span></span><br><span class="line">api200 = <span class="string">&#x27;https://run.mocky.io/v3/d2268e25-bfa4-4e70-a505-b5faf61f7047&#x27;</span></span><br><span class="line">fetch(api500).then( <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">		<span class="built_in">console</span>.log(response.status)</span><br><span class="line">&#125;)</span><br><span class="line">fetch(api200).then( <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">		<span class="built_in">console</span>.log(response.status)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 500</span></span><br><span class="line"><span class="comment">// 300</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// text() show response</span></span><br><span class="line"><span class="comment">// fetch() =&gt; Promise</span></span><br><span class="line"><span class="comment">// response.text() =&gt; Promise</span></span><br><span class="line">api200 = <span class="string">&#x27;https://run.mocky.io/v3/d2268e25-bfa4-4e70-a505-b5faf61f7047&#x27;</span></span><br><span class="line">fetch(api200).then( <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">	response.text().then( <span class="function"><span class="params">text</span> =&gt;</span> &#123;</span><br><span class="line">		<span class="built_in">console</span>.log(text)</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="comment">// console.log(response.text())</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// &#123;&quot;message&quot;: &quot;Hello!&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// json() show response</span></span><br><span class="line"><span class="comment">// return send to .then</span></span><br><span class="line"><span class="comment">// fetch() =&gt; Promise</span></span><br><span class="line"><span class="comment">// response.text() =&gt; Promise, text = json</span></span><br><span class="line"><span class="comment">// response.json() =&gt; Promise, text = object</span></span><br><span class="line">api200 = <span class="string">&#x27;https://run.mocky.io/v3/d2268e25-bfa4-4e70-a505-b5faf61f7047&#x27;</span></span><br><span class="line">fetch(api200).then( <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">	response.json().then(<span class="function"><span class="params">text</span> =&gt;</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(text)</span><br><span class="line">		<span class="built_in">console</span>.log(text.message)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">123</span></span><br><span class="line">	&#125;).then( <span class="function"><span class="params">abc</span> =&gt;</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">&#x27;abc=&#x27;</span>, abc)</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// &#123;message: &quot;Hello!&quot;&#125;</span></span><br><span class="line"><span class="comment">// Hello!</span></span><br><span class="line"><span class="comment">// abc=123</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// json() show response (another style)</span></span><br><span class="line"><span class="comment">// return send to .then</span></span><br><span class="line"><span class="comment">// fetch() =&gt; Promise</span></span><br><span class="line"><span class="comment">// response.text() =&gt; Promise, text = json</span></span><br><span class="line"><span class="comment">// response.json() =&gt; Promise, text = object</span></span><br><span class="line">api200 = <span class="string">&#x27;https://run.mocky.io/v3/d2268e25-bfa4-4e70-a505-b5faf61f7047&#x27;</span></span><br><span class="line">fetch(api200).then( <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> response.json()</span><br><span class="line">&#125;).then(<span class="function"><span class="params">json</span> =&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(json)</span><br><span class="line">&#125;) </span><br><span class="line"><span class="comment">// &#123;message: &quot;Hello!&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// uri error trigger catch </span></span><br><span class="line"><span class="comment">// return send to .then</span></span><br><span class="line"><span class="comment">// fetch() =&gt; Promise</span></span><br><span class="line"><span class="comment">// response.text() =&gt; Promise, text = json</span></span><br><span class="line"><span class="comment">// response.json() =&gt; Promise, text = object</span></span><br><span class="line">api200 = <span class="string">&#x27;https://run.mocky.io/v3/d2268e25-bfa4-4e70-a505-b5faf61f7047-err&#x27;</span></span><br><span class="line">fetch(api200).then( <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> response.json()</span><br><span class="line">&#125;).then(<span class="function"><span class="params">json</span> =&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(json)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">e</span> =&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&quot;error=&quot;</span>, e)</span><br><span class="line">&#125;) </span><br><span class="line"><span class="comment">// error= TypeError: Failed to fetch</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// POST</span></span><br><span class="line">data = &#123;</span><br><span class="line">	age: <span class="number">30</span></span><br><span class="line">&#125;</span><br><span class="line">pi200 = <span class="string">&#x27;https://run.mocky.io/v3/d2268e25-bfa4-4e70-a505-b5faf61f7047&#x27;</span></span><br><span class="line">fetch(pi200, &#123;</span><br><span class="line">	body: <span class="built_in">JSON</span>.stringify(data), <span class="comment">// object to json</span></span><br><span class="line">	headers: &#123;</span><br><span class="line">		<span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>	<span class="comment">// json format</span></span><br><span class="line">	&#125;,</span><br><span class="line">	method: <span class="string">&#x27;POST&#x27;</span>, 	<span class="comment">// *GET, POST, PUT, DELETE, etc.</span></span><br><span class="line">	&#125;).then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> response.json()</span><br><span class="line">&#125;).then( <span class="function"><span class="params">json</span> =&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(json)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// &#123;message: &quot;Hello!&quot;&#125;</span></span><br></pre></td></tr></table></figure>
<h5 id="fetch-注意事項"><a href="#fetch-注意事項" class="headerlink" title="fetch 注意事項"></a>fetch 注意事項</h5><ul>
<li>content-type 要填正確,如以下為 json</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">pi200 = <span class="string">&#x27;https://run.mocky.io/v3/d2268e25-bfa4-4e70-a505-b5faf61f7047&#x27;</span></span><br><span class="line">fetch(pi200, &#123;</span><br><span class="line">	body: <span class="built_in">JSON</span>.stringify(data), <span class="comment">// object to json</span></span><br><span class="line">	headers: &#123;</span><br><span class="line">		<span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>	<span class="comment">// json format</span></span><br><span class="line">	&#125;,</span><br><span class="line">	method: <span class="string">&#x27;POST&#x27;</span>, 	<span class="comment">// *GET, POST, PUT, DELETE, etc.</span></span><br><span class="line">	&#125;).then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> response.json()</span><br><span class="line">&#125;).then( <span class="function"><span class="params">json</span> =&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(json)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>fetch 不會傳送 cookies，除非你有設定 credential<ul>
<li>要讓瀏覽器將 credentials 跟著 request 一起送出, 方式就是在 init object 加上 credentials: ‘include’ </li>
<li>想要把 credentials 發送給同源的 URL ，加上credentials: ‘same-origin’。</li>
<li>要確保瀏覽器不會帶著 credentials 請求，可以用 credentials: ‘omit’ 。</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fetch(<span class="string">&#x27;https://example.com&#x27;</span>, &#123;</span><br><span class="line">  credentials: <span class="string">&#x27;include&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">fetch(<span class="string">&#x27;https://example.com&#x27;</span>, &#123;</span><br><span class="line">  credentials: <span class="string">&#x27;same-origin&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">fetch(<span class="string">&#x27;https://example.com&#x27;</span>, &#123;</span><br><span class="line">  credentials: <span class="string">&#x27;omit&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>mode: ‘no-cors’僅告訴 server, don’t card CPRS don’n need response error,並不表示server 不support時,能收到資料</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mode: &#x27;no-cors&#x27;</span></span><br><span class="line">data = &#123;</span><br><span class="line">	age: <span class="number">30</span></span><br><span class="line">&#125;</span><br><span class="line">pi200 = <span class="string">&#x27;https://tw.yahoo.com&#x27;</span></span><br><span class="line">fetch(pi200, &#123;</span><br><span class="line">	body: <span class="built_in">JSON</span>.stringify(data), <span class="comment">// object to json</span></span><br><span class="line">	headers: &#123;</span><br><span class="line">		<span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>	<span class="comment">// json format</span></span><br><span class="line">	&#125;,</span><br><span class="line">	method: <span class="string">&#x27;POST&#x27;</span>, 	<span class="comment">// *GET, POST, PUT, DELETE, etc.</span></span><br><span class="line">	mode: <span class="string">&#x27;no-cors&#x27;</span>, <span class="comment">// no-cors, cors, *same-origin</span></span><br><span class="line">	&#125;).then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> response.text()</span><br><span class="line">				.then( <span class="function"><span class="params">text</span> =&gt;</span>&#123;</span><br><span class="line">					<span class="built_in">console</span>.log(text)</span><br><span class="line">				&#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h5><h6 id="Promise應用-clipboard"><a href="#Promise應用-clipboard" class="headerlink" title="Promise應用 clipboard"></a>Promise應用 clipboard</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 只能在 active tab 發生作用 (aka 開發者無法在 colsole 做測試，會得到DOMException: Document is not focused.)</span></span><br><span class="line"><span class="keyword">var</span> promise = navigator.clipboard.readText()</span><br><span class="line">promise.then(<span class="function"><span class="params">data</span> =&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h6 id="Promise-example"><a href="#Promise-example" class="headerlink" title="Promise example"></a>Promise example</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1st Promise example</span></span><br><span class="line"><span class="comment">// function init(resolve, reject) &#123;</span></span><br><span class="line"><span class="comment">// 	// resolve(5)	// data= 5, return for then</span></span><br><span class="line"><span class="comment">// 	reject(3) // error= 3, return for catch</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// const myPromise = new Promise(init)</span></span><br><span class="line"><span class="comment">// sampe function as up example </span></span><br><span class="line"><span class="keyword">const</span> myPromise = <span class="keyword">new</span> <span class="built_in">Promise</span>( <span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">	resolve(<span class="number">4</span>)</span><br><span class="line">&#125;)</span><br><span class="line">myPromise.then( <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;data=&#x27;</span>, data)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;error=&#x27;</span> , err)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// set for 3s deleay </span></span><br><span class="line"><span class="keyword">const</span> myPromise = <span class="keyword">new</span> <span class="built_in">Promise</span>( <span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">	<span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">		resolve(<span class="number">6</span>)</span><br><span class="line">	&#125;, <span class="number">3000</span>)</span><br><span class="line">&#125;)</span><br><span class="line">myPromise.then( <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;data=&#x27;</span>, data)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;error=&#x27;</span> , err)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// example for XMLHttpRequest()</span></span><br><span class="line">api200 = <span class="string">&#x27;https://run.mocky.io/v3/d2268e25-bfa4-4e70-a505-b5faf61f7047&#x27;</span></span><br><span class="line"><span class="keyword">const</span> myPromise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">var</span> request = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">	request.open(<span class="string">&#x27;GET&#x27;</span>, api200, <span class="literal">true</span>)</span><br><span class="line">	<span class="comment">// --------------</span></span><br><span class="line">	request.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">this</span>.status &gt;= <span class="number">200</span> &amp;&amp; <span class="built_in">this</span>.status &lt; <span class="number">400</span>) &#123;</span><br><span class="line">			<span class="keyword">var</span> data = <span class="built_in">JSON</span>.parse(<span class="built_in">this</span>.response)</span><br><span class="line">			resolve(data)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	request.onerror = <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">		reject(err)</span><br><span class="line">	&#125;</span><br><span class="line">	request.send()</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// ----------------</span></span><br><span class="line">myPromise.then( <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;myPromise data =&#x27;</span>, data)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;error =&#x27;</span>, err)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// myPromise data = &#123;message: &quot;Hello!&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// sleep()</span></span><br><span class="line"><span class="comment">// function sleep(ms) &#123;</span></span><br><span class="line"><span class="comment">// 	const myPromise = new Promise(resolve =&gt; &#123;</span></span><br><span class="line"><span class="comment">// 		setTimeout(resolve, ms)</span></span><br><span class="line"><span class="comment">// 	&#125;)</span></span><br><span class="line"><span class="comment">// 	return myPromise</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// ---------------</span></span><br><span class="line"><span class="comment">// function sleep(ms) &#123;</span></span><br><span class="line"><span class="comment">// 	return new Promise(resolve =&gt; &#123;</span></span><br><span class="line"><span class="comment">// 		setTimeout(resolve, ms)</span></span><br><span class="line"><span class="comment">// 	&#125;)</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// ---------------</span></span><br><span class="line"><span class="comment">// const sleep = ms =&gt; new Promise(resolve =&gt; &#123;</span></span><br><span class="line"><span class="comment">// 				 setTimeout(resolve, ms)</span></span><br><span class="line"><span class="comment">// 			 &#125;)</span></span><br><span class="line"><span class="comment">//---------------</span></span><br><span class="line"><span class="keyword">const</span> sleep = <span class="function"><span class="params">ms</span> =&gt;</span> </span><br><span class="line">	<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> <span class="built_in">setTimeout</span>(resolve, ms))</span><br><span class="line">sleep(<span class="number">1500</span>).then( <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line"> 	<span class="built_in">console</span>.log(<span class="string">&#x27;myPromise data&#x27;</span>, data)</span><br><span class="line">&#125;)</span><br><span class="line">.catch (<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line"> 	<span class="built_in">console</span>.log(<span class="string">&#x27;err =&#x27;</span>, err)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// myPromise data undefined</span></span><br></pre></td></tr></table></figure>

<h4 id="async-and-await"><a href="#async-and-await" class="headerlink" title="async and await"></a>async and await</h4><ul>
<li>await 特性下，會等 promise 任務完成後才會讓程式繼續往下執行</li>
<li>async，他能夠將 await 包在裡面，被包在裡面的 await 會依序地執行</li>
</ul>
<h5 id="example"><a href="#example" class="headerlink" title="example"></a>example</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for fetch</span></span><br><span class="line"><span class="keyword">const</span> response = <span class="keyword">await</span> fetch(...)</span><br><span class="line"><span class="built_in">console</span>.log(response)</span><br><span class="line"></span><br><span class="line"><span class="comment">// for sleep</span></span><br><span class="line"><span class="keyword">const</span> sleep = <span class="function"><span class="params">ms</span> =&gt;</span></span><br><span class="line">	<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> <span class="built_in">setTimeout</span>(resolve, ms))</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;enter main&#x27;</span>)</span><br><span class="line">	<span class="keyword">await</span> sleep(<span class="number">1000</span>)</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;exit main&#x27;</span>) </span><br><span class="line">&#125;</span><br><span class="line">main()</span><br><span class="line"></span><br><span class="line"><span class="comment">// wait then get data</span></span><br><span class="line"><span class="keyword">const</span> sleep = <span class="function"><span class="params">ms</span> =&gt;</span></span><br><span class="line">	<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> <span class="built_in">setTimeout</span>(resolve, ms))</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">const</span> api200 = <span class="string">&#x27;https://run.mocky.io/v3/d2268e25-bfa4-4e70-a505-b5faf61f7047&#x27;</span></span><br><span class="line">	<span class="keyword">return</span> fetch(api200)</span><br><span class="line">	.then( <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> response.json()</span><br><span class="line">	&#125;).then(<span class="function"><span class="params">json</span> =&gt;</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(json)</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;enter main&#x27;</span>)</span><br><span class="line">	<span class="keyword">await</span> sleep(<span class="number">1000</span>)</span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		<span class="keyword">const</span> result = <span class="keyword">await</span> getData()</span><br><span class="line">	&#125; <span class="keyword">catch</span>(err) &#123;</span><br><span class="line">		<span class="built_in">console</span>.log(err)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;exit main&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">main()</span><br></pre></td></tr></table></figure>


<h3 id="瀏覽器上儲存資料"><a href="#瀏覽器上儲存資料" class="headerlink" title="瀏覽器上儲存資料"></a>瀏覽器上儲存資料</h3><h4 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a><a target="_blank" rel="noopener" href="https://www.w3schools.com/js/js_cookies.asp">Cookie</a></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">			id : <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;id&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">			phone : <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;phone&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn-save&quot;</span>&gt;</span>儲存<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span> <span class="title">setCookie</span>(<span class="params">cname, cvalue, exdays</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">let</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>()</span></span><br><span class="line"><span class="javascript">			<span class="comment">// ms</span></span></span><br><span class="line">			d.setTime(d.getTime() + exdays*24*60*60*1000)</span><br><span class="line"><span class="javascript">			<span class="keyword">let</span> expires = <span class="string">&#x27;expires=&#x27;</span> + d.toGMTString()</span></span><br><span class="line"><span class="javascript">			<span class="built_in">document</span>.cookie = cname + <span class="string">&#x27;=&#x27;</span> + cvalue + <span class="string">&#x27;;&#x27;</span> + expires + <span class="string">&#x27;;path=/&#x27;</span> ;</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span> <span class="title">getCookie</span>(<span class="params">cname</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="keyword">let</span> name = cname + <span class="string">&#x27;=&#x27;</span></span></span><br><span class="line"><span class="javascript">			<span class="keyword">let</span> decodeCookie = <span class="built_in">decodeURIComponent</span>(<span class="built_in">document</span>.cookie)</span></span><br><span class="line"><span class="javascript">			<span class="keyword">let</span> ca = decodeCookie.split(<span class="string">&#x27;;&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			<span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span> ; i &lt; ca.length ; i++) &#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">let</span> c = ca[i]</span></span><br><span class="line">				c = c.trimStart(c)</span><br><span class="line">				if (c.indexOf(name) === 0) &#123;</span><br><span class="line"><span class="javascript">					<span class="keyword">return</span> c.substring(name.length, c.length)</span></span><br><span class="line">				&#125;	</span><br><span class="line">			&#125;</span><br><span class="line"><span class="javascript">			<span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="comment">// get cookie</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">const</span> oldId = getCookie(<span class="string">&#x27;user-id&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.id&#x27;</span>).value = oldId</span></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.phone&#x27;</span>).value = getCookie(<span class="string">&#x27;phone&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		<span class="comment">// save cookie trigger</span></span></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.btn-save&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		 	.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">		 			<span class="keyword">const</span> id = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.id&#x27;</span>).value</span></span><br><span class="line"><span class="javascript">		 			<span class="comment">// set cookie</span></span></span><br><span class="line"><span class="javascript">					setCookie(<span class="string">&#x27;user-id&#x27;</span>, id, <span class="number">7</span>)</span></span><br><span class="line"><span class="javascript">					setCookie(<span class="string">&#x27;phone&#x27;</span>, <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.phone&#x27;</span>).value, <span class="number">7</span>)</span></span><br><span class="line">			&#125;)</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="local-storage"><a href="#local-storage" class="headerlink" title="local storage"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-TW/docs/Web/API/Window/localStorage">local storage</a></h4><p>儲存與 server 無關資料</p>
<h5 id="simple-example"><a href="#simple-example" class="headerlink" title="simple example"></a>simple example</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">		id : <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;id&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn-save&quot;</span>&gt;</span>儲存<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="comment">// get local storage</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">const</span> oldId = <span class="built_in">window</span>.localStorage.getItem(<span class="string">&#x27;id&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.id&#x27;</span>).value = oldId</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.btn-save&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">const</span> id = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.id&#x27;</span>).value</span></span><br><span class="line"><span class="javascript">					<span class="comment">// set local storage</span></span></span><br><span class="line"><span class="javascript">					<span class="built_in">window</span>.localStorage.setItem(<span class="string">&#x27;id&#x27;</span>, id)</span></span><br><span class="line">			&#125;)</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="save-job-list"><a href="#save-job-list" class="headerlink" title="save job list"></a>save job list</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">			job : <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;job&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn-add&quot;</span>&gt;</span>新增<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">let</span> jobList = <span class="built_in">JSON</span>.parse(<span class="built_in">window</span>.localStorage.getItem(<span class="string">&#x27;todo-list&#x27;</span>))</span></span><br><span class="line"><span class="javascript">		<span class="keyword">let</span> idIndex = <span class="built_in">Number</span>(<span class="built_in">JSON</span>.parse(<span class="built_in">window</span>.localStorage.getItem(<span class="string">&#x27;id-index&#x27;</span>)))</span></span><br><span class="line"><span class="javascript">		<span class="comment">// init value for 1st time</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">if</span> (jobList === <span class="literal">null</span>) &#123;</span></span><br><span class="line">			jobList = []</span><br><span class="line">		&#125;</span><br><span class="line">		if (idIndex === 0) &#123;</span><br><span class="line">			idIndex++</span><br><span class="line">		&#125;</span><br><span class="line"><span class="javascript">		<span class="comment">// show list</span></span></span><br><span class="line">		showList(jobList)</span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.btn-add&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">let</span> item = &#123;&#125;</span></span><br><span class="line"><span class="javascript">				item.job = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.job&#x27;</span>).value</span></span><br><span class="line"><span class="javascript">				<span class="keyword">if</span> (item.job !== <span class="string">&#x27;&#x27;</span>) &#123;</span></span><br><span class="line">					item.id = idIndex++</span><br><span class="line">					jobList.push(item)</span><br><span class="line"><span class="javascript">					<span class="comment">// convert job array to JSON</span></span></span><br><span class="line"><span class="javascript">					<span class="keyword">let</span> jobListJson = <span class="built_in">JSON</span>.stringify(jobList)</span></span><br><span class="line"><span class="javascript">					<span class="built_in">window</span>.localStorage.setItem(<span class="string">&#x27;todo-list&#x27;</span>, jobListJson)</span></span><br><span class="line"><span class="javascript">					<span class="built_in">window</span>.localStorage.setItem(<span class="string">&#x27;id-index&#x27;</span>, <span class="built_in">String</span>(idIndex))</span></span><br><span class="line"><span class="javascript">					<span class="comment">// update list</span></span></span><br><span class="line">					showList(jobList)</span><br><span class="line">				&#125;</span><br><span class="line"><span class="javascript">				<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">					<span class="built_in">console</span>.log(<span class="string">&#x27;Input error&#x27;</span>)</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;)</span><br><span class="line"><span class="javascript">			<span class="comment">// update job list</span></span></span><br><span class="line"><span class="javascript">			<span class="function"><span class="keyword">function</span> <span class="title">showList</span>(<span class="params">job</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="keyword">const</span> listDiv = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.list&#x27;</span>)</span></span><br><span class="line"><span class="javascript">				listDiv.innerText = <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">				<span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span> ; i &lt; jobList.length ; i++) &#123;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">let</span> item = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>)</span></span><br><span class="line"><span class="javascript">					item.innerText = <span class="string">`<span class="subst">$&#123;job[i].id&#125;</span> : <span class="subst">$&#123;job[i].job&#125;</span>`</span></span></span><br><span class="line">					listDiv.appendChild(item)</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h4 id="session-storage"><a href="#session-storage" class="headerlink" title="session storage"></a>session storage</h4><p>網頁關掉即清除</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">		id : <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;id&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn-save&quot;</span>&gt;</span>儲存<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="comment">// get session storage</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">const</span> oldId = <span class="built_in">window</span>.sessionStorage.getItem(<span class="string">&#x27;id&#x27;</span>)</span></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.id&#x27;</span>).value = oldId</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="built_in">document</span>.querySelector(<span class="string">&#x27;.btn-save&#x27;</span>)</span></span><br><span class="line"><span class="javascript">			.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					<span class="keyword">const</span> id = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.id&#x27;</span>).value</span></span><br><span class="line"><span class="javascript">					<span class="comment">// set session storage</span></span></span><br><span class="line"><span class="javascript">					<span class="built_in">window</span>,sessionStorage.setItem(<span class="string">&#x27;id&#x27;</span>, id)</span></span><br><span class="line">			&#125;)</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="傳送資料"><a href="#傳送資料" class="headerlink" title="傳送資料"></a>傳送資料</h3><h4 id="表單-from-–-gt-Browser-畫面更新"><a href="#表單-from-–-gt-Browser-畫面更新" class="headerlink" title="表單 from –&gt; Browser 畫面更新"></a>表單 from –&gt; Browser 畫面更新</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- action: 表單提交到哪裡(也可能是後端程式) --&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- &lt;form method=&quot;GET&quot; action=&quot;/test&quot;&gt; --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span> <span class="attr">action</span>=<span class="string">&quot;https://google.com&quot;</span>&gt;</span></span><br><span class="line">			username: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="AJAX-Asynchronous-JavaScript-and-XML-–-gt-資料回傳至-JavaScript"><a href="#AJAX-Asynchronous-JavaScript-and-XML-–-gt-資料回傳至-JavaScript" class="headerlink" title="AJAX(Asynchronous JavaScript and XML) –&gt; 資料回傳至 JavaScript"></a>AJAX(Asynchronous JavaScript and XML) –&gt; 資料回傳至 JavaScript</h4><h5 id="AJAX-google-瀏覽器的限制-同源策略-Same-origin-policy"><a href="#AJAX-google-瀏覽器的限制-同源策略-Same-origin-policy" class="headerlink" title="AJAX google - 瀏覽器的限制 同源策略(Same-origin policy)"></a>AJAX google - 瀏覽器的限制 同源策略(Same-origin policy)</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">const</span> request = <span class="keyword">new</span> XMLHttpRequest()</span></span><br><span class="line"><span class="javascript">		<span class="comment">// loaded function</span></span></span><br><span class="line"><span class="javascript">		request.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">			if (request.status &gt;= 200 &amp;&amp; request.status &lt; 400) &#123;</span><br><span class="line"><span class="javascript">				<span class="built_in">console</span>.log(request.responseText)</span></span><br><span class="line">			&#125;</span><br><span class="line"><span class="javascript">			<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">				<span class="built_in">console</span>.log(<span class="string">&#x27;response error :&#x27;</span>, request.status)</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="comment">// error </span></span></span><br><span class="line"><span class="javascript">		request.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="built_in">console</span>.log(<span class="string">&#x27;error&#x27;</span>)</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="comment">// true 表非同步</span></span></span><br><span class="line"><span class="javascript">		request.open(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;https://google.com&#x27;</span>, <span class="literal">true</span>)</span></span><br><span class="line">		request.send()</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div style="width:700px">
    <img src="/2021/05/25/js-2/pic9.png" class="" title="pic9">
</div>

<h5 id="AJAX-fake-data-Access-Control-Allow-Origin"><a href="#AJAX-fake-data-Access-Control-Allow-Origin" class="headerlink" title="AJAX fake data - Access-Control-Allow-Origin : *"></a>AJAX fake data - Access-Control-Allow-Origin : *</h5><p>CORS(全名為 Cross-Origin Resource Sharing) 跨來源資源共享 : server response head 加 Access-Control-Allow-Origin : *</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">const</span> request = <span class="keyword">new</span> XMLHttpRequest()</span></span><br><span class="line"><span class="javascript">		<span class="comment">// loaded function</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// type 1</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// request.addEventListener(&#x27;load&#x27;, function() &#123;</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 	if (request.status &gt;= 200 &amp;&amp; request.status &lt; 400) &#123;</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 		console.log(request.responseText)</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 	&#125;</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 	else &#123;</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 		console.log(&#x27;response error :&#x27;, request.status)</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// 	&#125;</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="javascript">		<span class="comment">// type 2</span></span></span><br><span class="line"><span class="javascript">		request.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">			if (request.status &gt;= 200 &amp;&amp; request.status &lt; 400) &#123;</span><br><span class="line"><span class="javascript">				<span class="built_in">console</span>.log(request.responseText)</span></span><br><span class="line">			&#125;</span><br><span class="line"><span class="javascript">			<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">				<span class="built_in">console</span>.log(<span class="string">&#x27;response error :&#x27;</span>, request.status)</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="comment">// error </span></span></span><br><span class="line"><span class="javascript">		request.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">			<span class="built_in">console</span>.log(<span class="string">&#x27;error&#x27;</span>)</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">		<span class="comment">// true 表非同步</span></span></span><br><span class="line"><span class="javascript">		request.open(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;https://reqres.in/api/users/2&#x27;</span>, <span class="literal">true</span>)</span></span><br><span class="line">		request.send()</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div style="width:700px">
    <img src="/2021/05/25/js-2/pic10.png" class="" title="pic10">
</div>

<h5 id="AJAX-set-header"><a href="#AJAX-set-header" class="headerlink" title="AJAX set header"></a>AJAX set header</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sendTwitchApi</span>(<span class="params">url, respProcess</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">const</span> request = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">	<span class="comment">// loaded function</span></span><br><span class="line">	request.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (request.status &gt;= <span class="number">200</span> &amp;&amp; request.status &lt; <span class="number">400</span>) &#123;</span><br><span class="line">			<span class="comment">// process by callback function</span></span><br><span class="line">			respProcess(request.responseText)</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">&#x27;response :&#x27;</span>, request)</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">&#x27;response error :&#x27;</span>, request.status)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// error </span></span><br><span class="line">	request.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">&#x27;error&#x27;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// true 表非同步</span></span><br><span class="line">	request.open(<span class="string">&#x27;GET&#x27;</span>, url, <span class="literal">true</span>)</span><br><span class="line">	<span class="comment">// add header</span></span><br><span class="line">	request.setRequestHeader(<span class="string">&#x27;Accept&#x27;</span>,<span class="string">&#x27;application/vnd.twitchtv.v5+json&#x27;</span>);</span><br><span class="line">	request.setRequestHeader(<span class="string">&#x27;Client-ID&#x27;</span>,<span class="string">&#x27;qvtuq71csrlv5ipxo1ljzgbzqn1okh&#x27;</span>);</span><br><span class="line">	request.send()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="JSONP-JSON-with-Padding-第三種方式資料交換方式"><a href="#JSONP-JSON-with-Padding-第三種方式資料交換方式" class="headerlink" title="JSONP(JSON with Padding) 第三種方式資料交換方式"></a>JSONP(JSON with Padding) 第三種方式資料交換方式</h4><ul>
<li>img, scrip不受同源限制</li>
<li>使用 script 傳回 json data 即可不受 同源策略 限制</li>
<li>若 json 外部可包一個 function 即可方便處理,故要 server 配合</li>
<li>某些 server 可指定 callback function(如 Twitch)</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">	<span class="function"><span class="keyword">function</span> <span class="title">receiveData</span> (<span class="params">response</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">		<span class="built_in">console</span>.log(response);</span></span><br><span class="line">	&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;script src=&quot;https://www.game.com/api/user&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">	receiveData(</span><br><span class="line">	 &#123;</span><br><span class="line"><span class="javascript">		 name: <span class="string">&#x27;Robert&#x27;</span>,</span></span><br><span class="line">		 age: 30</span><br><span class="line">	 &#125;</span><br><span class="line">	)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="單向資料傳送-email-或-廣告-追蹤"><a href="#單向資料傳送-email-或-廣告-追蹤" class="headerlink" title="單向資料傳送(email 或 廣告 追蹤)"></a>單向資料傳送(email 或 廣告 追蹤)</h4><p>擺一張小而透明的檔案,若網頁被打開,server就知道 email/廣告 被打開 </p>
<h3 id="Window"><a href="#Window" class="headerlink" title="Window"></a>Window</h3><h4 id="method"><a href="#method" class="headerlink" title="method"></a>method</h4><h5 id="alert"><a href="#alert" class="headerlink" title="alert()"></a>alert()</h5><p>Displays an alert dialog</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// window 可省略</span></span><br><span class="line"><span class="built_in">window</span>.alert(<span class="string">&quot;hello!&quot;</span>)</span><br><span class="line">alert(<span class="string">&quot;hello2 !&quot;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="load-畫面"><a href="#load-畫面" class="headerlink" title="load 畫面"></a>load 畫面</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 刷新當前頁面</span></span><br><span class="line">location.reload()</span><br><span class="line"><span class="comment">// load 指定頁面</span></span><br><span class="line"><span class="built_in">window</span>.location = <span class="string">&#x27;index.html?id=&#x27;</span> + respId</span><br></pre></td></tr></table></figure>

<h5 id="window-load-complete"><a href="#window-load-complete" class="headerlink" title="window load complete"></a>window load complete</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Snippet-for-JavaScript"><a href="#Snippet-for-JavaScript" class="headerlink" title="Snippet for JavaScript"></a>Snippet for JavaScript</h3><h5 id="escape-HTML"><a href="#escape-HTML" class="headerlink" title="escape HTML"></a>escape HTML</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">escapeHTML</span>(<span class="params">s</span>) </span>&#123; </span><br><span class="line">  <span class="keyword">return</span> s.replace(<span class="regexp">/&amp;/g</span>, <span class="string">&#x27;&amp;amp;&#x27;</span>)</span><br><span class="line">          .replace(<span class="regexp">/&quot;/g</span>, <span class="string">&#x27;&amp;quot;&#x27;</span>)</span><br><span class="line">          .replace(<span class="regexp">/&lt;/g</span>, <span class="string">&#x27;&amp;lt;&#x27;</span>)</span><br><span class="line">          .replace(<span class="regexp">/&gt;/g</span>, <span class="string">&#x27;&amp;gt;&#x27;</span>)</span><br><span class="line">          .replace(<span class="regexp">/&#x27;/g</span>, <span class="string">&quot;&amp;#039;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/javascript/" rel="tag"># javascript</a>
              <a href="/tags/browser/" rel="tag"># browser</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/05/23/html-2/" rel="prev" title="HTML 嵌入">
                  <i class="fa fa-chevron-left"></i> HTML 嵌入
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/05/26/js-3/" rel="next" title="瀏覽器 JavaScript 練習">
                  瀏覽器 JavaScript 練習 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Robert Kao</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="總字數">662k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="所需總閱讀時間">10:02</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 強力驅動
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="/js/local-search.js"></script>






  




  


<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://hot5656-blog.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://hot5656.github.io/2021/05/25/js-2/";
    this.page.identifier = "2021/05/25/js-2/";
    this.page.title = "瀏覽器的 JavaScript";
    };
  NexT.utils.loadComments('#disqus_thread', () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://hot5656-blog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
